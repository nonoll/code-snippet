<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"event_index.ts.html":{"id":"event_index.ts.html","title":"Source: event/index.ts","body":" @nonoll/code-snippet Modules browserfunctionstypes Classes EventEmitterMutationObserverVisibilityChangeObserver Events MutationObserver#event:MUTATION_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IEventIMutationObserverExtOptionIMutationObserverInitIPassiveIVisibilityStatus Global eventobserver Source: event/index.ts /** * @alias event */ export * from './EventEmitter'; export * from './IEvent'; × Search results Close "},"event_EventEmitter.ts.html":{"id":"event_EventEmitter.ts.html","title":"Source: event/EventEmitter.ts","body":" @nonoll/code-snippet Modules browserfunctionstypes Classes EventEmitterMutationObserverVisibilityChangeObserver Events MutationObserver#event:MUTATION_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IEventIMutationObserverExtOptionIMutationObserverInitIPassiveIVisibilityStatus Global eventobserver Source: event/EventEmitter.ts import { TypeVoidFunction } from '../types'; import { noop } from '../functions'; import { IEvent } from './index'; /** * EventEmitter 의 기능과 동일한 맥락으로, 간단히 구성 &lt;iframe src=\"https://codesandbox.io/embed/nonollcode-snippet-9gko8?autoresize=1&amp;expanddevtools=1&amp;fontsize=14&amp;hidenavigation=1&amp;initialpath=%2Fevent-EventEmitter.html&amp;module=%2Fevent-EventEmitter.html&amp;theme=dark\" style=\"width:100%; height:500px; border:1px solid black; border-radius: 4px; overflow:hidden;\" title=\"@nonoll/code-snippet\" allow=\"geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\" &gt;&lt;/iframe&gt; * @export * @class EventEmitter * @alias event/EventEmitter * @memberof event * @see https://www.npmjs.com/package/events * @example import { EventEmitter } from '@nonoll/code-snippet/event'; const createElement = ({ tag = 'div', id = '', style = '', value = '', text = '' }) =&gt; { const doc = window.document; const target = doc.createElement(tag); target.setAttribute('id', id); target.setAttribute('style', style); target.setAttribute('value', value); if (text) { target.textContent = text; } return target; } let ee; const forExample = () =&gt; { const doc = window.document; const onButton = createElement({ tag: 'button', text: 'on button' }); const offButton = createElement({ tag: 'button', text: 'off button' }); const emitButton = createElement({ tag: 'button', text: 'emit button' }); const EVENT_NAME = 'EVENT_EXAMPLE'; doc.body.appendChild(onButton); doc.body.appendChild(offButton); doc.body.appendChild(emitButton); ee = new EventEmitter(); ee.on(EVENT_NAME, res =&gt; console.log(res)); onButton.addEventListener('click', e =&gt; { e.preventDefault(); console.log('onButton clicked'); if (!ee) { return; } ee.off(EVENT_NAME); ee.on(EVENT_NAME, res =&gt; console.log(res)); }); offButton.addEventListener('click', e =&gt; { e.preventDefault(); console.log('offButton clicked'); if (!ee) { return; } ee.off(EVENT_NAME); }); emitButton.addEventListener('click', e =&gt; { e.preventDefault(); console.log('emitButton clicked'); if (!ee) { return; } ee.emit(EVENT_NAME, new Date()); }); } forExample(); */ export class EventEmitter { private events: Array&lt;IEvent&gt; = []; constructor() {} /** * 이벤트 감지 등록 * @param {string} eventName * @param {TypeVoidFunction} [listener={@link noop}] * @param {*} [context] * @returns {EventEmitter} * @memberof EventEmitter */ on(eventName: string, /* istanbul ignore next: for noop */ listener: TypeVoidFunction = noop, context?: any): EventEmitter { this.events.push({ eventName, listener, context }); return this; } /** * 이벤트 감지 해제 * @param {string} eventName * @param {TypeVoidFunction} [listener] * @returns {EventEmitter} * @memberof EventEmitter */ off(eventName: string, listener?: TypeVoidFunction): EventEmitter | false { // tslint:disable-next-line: max-line-length const matched = this.events.findIndex(regEvent =&gt; regEvent.eventName === eventName &amp;&amp; (listener ? regEvent.listener === listener : true)); // tslint:disable-next-line: no-bitwise if (!~matched) { return false; } this.events.splice(matched, 1); return this; } /** * 이벤트 1회 감지 등록 * @param {string} eventName * @param {TypeVoidFunction} [listener={@link noop}] * @param {*} [context] * @returns {EventEmitter} * @memberof EventEmitter */ once(eventName: string, /* istanbul ignore next: for noop */ listener: TypeVoidFunction = noop, context?: any): EventEmitter { const onceWrapper = (...values: any) =&gt; { this.off(eventName, onceWrapper); listener.apply(context || listener, values); }; this.on(eventName, onceWrapper, context); return this; } /** * 이벤트 전파 * @param {string} eventName * @param {...any[]} values * @returns {EventEmitter} * @memberof EventEmitter */ emit(eventName: string, ...values: any[]): EventEmitter { this.events.forEach(regEvent =&gt; { if (regEvent.eventName === eventName) { regEvent.listener.apply(regEvent.context || regEvent.listener, values); } }); return this; } /** * 이벤트 전파 * @param {string} eventName * @param {any} values * @returns {EventEmitter} * @memberof EventEmitter */ fire(eventName: string, values: any): EventEmitter { this.emit(eventName, values); return this; } } × Search results Close "},"event_IEvent.ts.html":{"id":"event_IEvent.ts.html","title":"Source: event/IEvent.ts","body":" @nonoll/code-snippet Modules browserfunctionstypes Classes EventEmitterMutationObserverVisibilityChangeObserver Events MutationObserver#event:MUTATION_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IEventIMutationObserverExtOptionIMutationObserverInitIPassiveIVisibilityStatus Global eventobserver Source: event/IEvent.ts import { TypeVoidFunction } from '../types'; /** * Event Interface * @alias IEvent * @interface * @property {String} eventName - 이벤트 명 * @property {TypeVoidFunction} [listener] - listener function * @property {any} [context] - context */ export interface IEvent { eventName: string; listener?: TypeVoidFunction; context?: any; } × Search results Close "},"observer_IMutationObserverExtOption.ts.html":{"id":"observer_IMutationObserverExtOption.ts.html","title":"Source: observer/IMutationObserverExtOption.ts","body":" @nonoll/code-snippet Modules browserfunctionstypes Classes EventEmitterMutationObserverVisibilityChangeObserver Events MutationObserver#event:MUTATION_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IEventIMutationObserverExtOptionIMutationObserverInitIPassiveIVisibilityStatus Global eventobserver Source: observer/IMutationObserverExtOption.ts import { TypeVoidFunction } from '../types'; import { IMutationObserverInit } from './index'; /** * MutationObserver init options * @memberof MutationObserver * @alias IMutationObserverExtOption * @interface * @property {HTMLElement} target - 감지할 element * @property {Number} [debounce] - 이벤트 debounce 값 * @property {TypeVoidFunction} [callback] - 이벤트 callback * @property {IMutationObserverInit} [options] - 세부 MutationObserver options */ export interface IMutationObserverExtOption { target: HTMLElement; debounce?: number; callback?: TypeVoidFunction; options?: IMutationObserverInit; } × Search results Close "},"observer_IMutationObserverInit.ts.html":{"id":"observer_IMutationObserverInit.ts.html","title":"Source: observer/IMutationObserverInit.ts","body":" @nonoll/code-snippet Modules browserfunctionstypes Classes EventEmitterMutationObserverVisibilityChangeObserver Events MutationObserver#event:MUTATION_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IEventIMutationObserverExtOptionIMutationObserverInitIPassiveIVisibilityStatus Global eventobserver Source: observer/IMutationObserverInit.ts /** * pure MutationObserver init options * @memberof MutationObserver * @alias IMutationObserverInit * @interface * @property {Boolean} [childList] - target 의 하위 요소 추가 / 삭제 감지 유무 * @property {Boolean} [attributes] - target 의 속성 변경 감지 유무 * @property {Boolean} [characterData] - target 의 데이터 변경 감지 유무 * @property {Boolean} [subtree] - target 의 하위 요소 변경 사항 감지 유무 * @property {Boolean} [attributeOldValue] - attributeOldValue TBD * @property {Boolean} [characterDataOldValue] - TBD * @property {Array.&lt;String&gt;} [attributeFilter] - TBD [MDN attributeFilter]{@link https://developer.mozilla.org/en-US/docs/Web/API/MutationObserverInit/attributeFilter} * @see https://developer.mozilla.org/ko/docs/Web/API/MutationObserver#MutationObserverInit */ export interface IMutationObserverInit { childList?: boolean; attributes?: boolean; characterData?: boolean; subtree?: boolean; attributeOldValue?: boolean; characterDataOldValue?: boolean; attributeFilter?: string[]; } × Search results Close "},"browser_isSupportPassive.ts.html":{"id":"browser_isSupportPassive.ts.html","title":"Source: browser/isSupportPassive.ts","body":" @nonoll/code-snippet Modules browserfunctionstypes Classes EventEmitterMutationObserverVisibilityChangeObserver Events MutationObserver#event:MUTATION_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IEventIMutationObserverExtOptionIMutationObserverInitIPassiveIVisibilityStatus Global eventobserver Source: browser/isSupportPassive.ts /** * @interface IPassive * @property {Boolean} passive - passive 지원 유무 * @see https://developers.google.com/web/tools/lighthouse/audits/passive-event-listeners?hl=ko */ interface IPassive { passive: boolean; } /** * passive 옵션 지원 유무 반환 * @memberof module:browser * @function * @return {Boolean} * @see https://github.com/WICG/EventListenerOptions/pull/30 * @see https://github.com/cubiq/iscroll/blob/master/demos/demoUtils.js#L2-L12 * @see https://developers.google.com/web/tools/lighthouse/audits/passive-event-listeners?hl=ko * @example import { isSupportPassive } from '@nonoll/code-snippet/browser'; console.log(isSupportPassive()); // true or false */ /* istanbul ignore next */ export const isSupportPassive = (): boolean =&gt; { let supportPassiveOption = false; try { const options = Object.defineProperty({}, 'passive', { get: () =&gt; supportPassiveOption = true }); addEventListener('test_passive_option', null, options); } catch (e) {} return supportPassiveOption; }; /** * 실행된 browser 에서 지원하는 passive 옵션 값 반환 * @memberof module:browser * @function * @return {(IPassive|Boolean)} * @see https://developers.google.com/web/tools/lighthouse/audits/passive-event-listeners?hl=ko * @example import { getPassiveOption } from '@nonoll/code-snippet/browser'; console.log(getPassiveOption()); // IPassive or false */ export const getPassiveOption = (): IPassive | boolean =&gt; isSupportPassive() ? { passive: true } : /* istanbul ignore next */ false; × Search results Close "},"observer_IVisibilityStatus.ts.html":{"id":"observer_IVisibilityStatus.ts.html","title":"Source: observer/IVisibilityStatus.ts","body":" @nonoll/code-snippet Modules browserfunctionstypes Classes EventEmitterMutationObserverVisibilityChangeObserver Events MutationObserver#event:MUTATION_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IEventIMutationObserverExtOptionIMutationObserverInitIPassiveIVisibilityStatus Global eventobserver Source: observer/IVisibilityStatus.ts /** * Visibility Status 반환 규격 * @memberof VisibilityChangeObserver * @alias IVisibilityStatus * @interface * @property {Boolean} hidden - hidden 상태 유무 * @property {Boolean} show - show 상태 유무 * @see VisibilityChangeObserver#getStatus */ export interface IVisibilityStatus { isHidden: boolean; isShow: boolean; } × Search results Close "},"browser_index.ts.html":{"id":"browser_index.ts.html","title":"Source: browser/index.ts","body":" @nonoll/code-snippet Modules browserfunctionstypes Classes EventEmitterMutationObserverVisibilityChangeObserver Events MutationObserver#event:MUTATION_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IEventIMutationObserverExtOptionIMutationObserverInitIPassiveIVisibilityStatus Global eventobserver Source: browser/index.ts /** * @module module:browser */ export * from './isAOS'; export * from './isIOS'; export * from './isSupportPassive'; export * from './vendorPrefix'; × Search results Close "},"browser_isAOS.ts.html":{"id":"browser_isAOS.ts.html","title":"Source: browser/isAOS.ts","body":" @nonoll/code-snippet Modules browserfunctionstypes Classes EventEmitterMutationObserverVisibilityChangeObserver Events MutationObserver#event:MUTATION_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IEventIMutationObserverExtOptionIMutationObserverInitIPassiveIVisibilityStatus Global eventobserver Source: browser/isAOS.ts /** * browser - AOS 유무 반환 * @memberof module:browser * @function * @return {Boolean} * @example import { isAOS } from '@nonoll/code-snippet/browser'; console.log(isAOS()); // true or false */ export const isAOS = (): boolean =&gt; { return /Android/.test(window.navigator.userAgent); }; × Search results Close "},"browser_isIOS.ts.html":{"id":"browser_isIOS.ts.html","title":"Source: browser/isIOS.ts","body":" @nonoll/code-snippet Modules browserfunctionstypes Classes EventEmitterMutationObserverVisibilityChangeObserver Events MutationObserver#event:MUTATION_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IEventIMutationObserverExtOptionIMutationObserverInitIPassiveIVisibilityStatus Global eventobserver Source: browser/isIOS.ts /** * browser - IOS 유무 반환 * @memberof module:browser * @function * @return {Boolean} * @example import { isIOS } from '@nonoll/code-snippet/browser'; console.log(isIOS()); // true or false */ export const isIOS = (): boolean =&gt; { return /iPhone|iPad/.test(window.navigator.userAgent); }; × Search results Close "},"browser_vendorPrefix.ts.html":{"id":"browser_vendorPrefix.ts.html","title":"Source: browser/vendorPrefix.ts","body":" @nonoll/code-snippet Modules browserfunctionstypes Classes EventEmitterMutationObserverVisibilityChangeObserver Events MutationObserver#event:MUTATION_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IEventIMutationObserverExtOptionIMutationObserverInitIPassiveIVisibilityStatus Global eventobserver Source: browser/vendorPrefix.ts /** * IVendorPrefix * @memberof module:browser * @typedef * @property - dom 기준, prefix * @property - 소문자로 반환 * @property - css 기준, prefix * @property - js 기준, prefix */ interface IVendorPrefix { dom: string; lowercase: string; css: string; js: string; } /** * browser - vendorPrefix 반환 * @memberof module:browser * @see https://davidwalsh.name/vendor-prefix * @function * @return {IVendorPrefix} * @example import { vendorPrefix } from '@nonoll/code-snippet/browser'; console.log(vendorPrefix()); // {dom: \"Webkit\", lowercase: \"webkit\", css: \"-webkit-\", js: \"Webkit\"} */ export const vendorPrefix = (): IVendorPrefix =&gt; { const styles = window.getComputedStyle(window.document.documentElement, ''); // tslint:disable-next-line: max-line-length const pre = (Array.from(styles).join('').match(/-(moz|webkit|ms)-/) || /* istanbul ignore next */ ((styles as any).OLink === '' &amp;&amp; ['', 'o']))[1]; const dom = ('Webkit|Moz|MS|O').match(new RegExp(`(${pre})`, 'i'))[1]; return { dom, lowercase: pre, css: `-${pre}-`, js: pre[0].toUpperCase() + pre.substr(1) }; }; × Search results Close "},"functions_index.ts.html":{"id":"functions_index.ts.html","title":"Source: functions/index.ts","body":" @nonoll/code-snippet Modules browserfunctionstypes Classes EventEmitterMutationObserverVisibilityChangeObserver Events MutationObserver#event:MUTATION_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IEventIMutationObserverExtOptionIMutationObserverInitIPassiveIVisibilityStatus Global eventobserver Source: functions/index.ts /** * @module module:functions */ export * from './debounce'; export * from './deepFreeze'; export * from './noop'; export * from './throttle'; × Search results Close "},"functions_debounce.ts.html":{"id":"functions_debounce.ts.html","title":"Source: functions/debounce.ts","body":" @nonoll/code-snippet Modules browserfunctionstypes Classes EventEmitterMutationObserverVisibilityChangeObserver Events MutationObserver#event:MUTATION_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IEventIMutationObserverExtOptionIMutationObserverInitIPassiveIVisibilityStatus Global eventobserver Source: functions/debounce.ts import { TypeVoidFunction } from '../types'; /** * debounce &lt;iframe src=\"https://codesandbox.io/embed/nonollcode-snippet-9gko8?autoresize=1&amp;expanddevtools=1&amp;fontsize=14&amp;hidenavigation=1&amp;initialpath=%2Ffunctions-debounce.html&amp;module=%2Ffunctions-debounce.html&amp;theme=dark\" style=\"width:100%; height:500px; border:1px solid black; border-radius: 4px; overflow:hidden;\" title=\"@nonoll/code-snippet\" allow=\"geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\" &gt;&lt;/iframe&gt; * @memberof module:functions * @function * @see https://css-tricks.com/debouncing-throttling-explained-examples/ * @param {TypeVoidFunction} fn * @param {Number} [delay=0] * @returns {TypeVoidFunction} * @example import { debounce } from '@nonoll/code-snippet/functions'; const forExample = () =&gt; { const delay = 1000 * 1; const listener = debounce(res =&gt; console.log(res), delay); listener('1'); listener('2'); listener('3'); listener(`4 ${new Date()}`); setTimeout(() =&gt; { listener(`5 ${new Date()}`); }, delay); } forExample(); */ export const debounce = (fn: TypeVoidFunction, /* istanbul ignore next */ delay: number = 0): TypeVoidFunction =&gt; { let timer; return (...args: any[]) =&gt; { window.clearTimeout(timer); timer = window.setTimeout(() =&gt; { fn.apply(null, args); }, delay); }; }; × Search results Close "},"functions_deepFreeze.ts.html":{"id":"functions_deepFreeze.ts.html","title":"Source: functions/deepFreeze.ts","body":" @nonoll/code-snippet Modules browserfunctionstypes Classes EventEmitterMutationObserverVisibilityChangeObserver Events MutationObserver#event:MUTATION_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IEventIMutationObserverExtOptionIMutationObserverInitIPassiveIVisibilityStatus Global eventobserver Source: functions/deepFreeze.ts /** * deepFreeze * @param {any} target * @memberof module:functions * @function */ export const deepFreeze = (target: any): any | Error =&gt; { if (Object.isFrozen(target)) { return target; } if (!Array.isArray(target) &amp;&amp; Object.getPrototypeOf(target) !== Object.getPrototypeOf({})) { if (Object.getPrototypeOf(target) !== Object.getPrototypeOf(Function)) { throw new Error('not allow types'); } } Object.freeze(target); Object.keys(target).forEach(key =&gt; deepFreeze(target[key])); return target; }; × Search results Close "},"functions_throttle.ts.html":{"id":"functions_throttle.ts.html","title":"Source: functions/throttle.ts","body":" @nonoll/code-snippet Modules browserfunctionstypes Classes EventEmitterMutationObserverVisibilityChangeObserver Events MutationObserver#event:MUTATION_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IEventIMutationObserverExtOptionIMutationObserverInitIPassiveIVisibilityStatus Global eventobserver Source: functions/throttle.ts import { TypeVoidFunction } from '../types'; /** * throttle &lt;iframe src=\"https://codesandbox.io/embed/nonollcode-snippet-9gko8?autoresize=1&amp;expanddevtools=1&amp;fontsize=14&amp;hidenavigation=1&amp;initialpath=%2Ffunctions-throttle.html&amp;module=%2Ffunctions-throttle.html&amp;theme=dark\" style=\"width:100%; height:500px; border:1px solid black; border-radius: 4px; overflow:hidden;\" title=\"@nonoll/code-snippet\" allow=\"geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\" &gt;&lt;/iframe&gt; * @memberof module:functions * @function * @see https://css-tricks.com/debouncing-throttling-explained-examples/ * @param {TypeVoidFunction} fn * @param {Number} [delay=0] * @returns {TypeVoidFunction} * @example import { debounce } from '@nonoll/code-snippet/functions'; const forExample = () =&gt; { const delay = 1000 * 1; const listener = throttle(res =&gt; console.log(res), delay); listener(`1 ${new Date()}`); listener('2'); listener('3'); listener('4'); setTimeout(() =&gt; { listener(`5 ${new Date()}`); }, delay); } forExample(); */ export const throttle = (fn: TypeVoidFunction, /* istanbul ignore next */ delay: number = 0): TypeVoidFunction =&gt; { const caller = (args: any[]) =&gt; { fn.apply(null, args); base = +new Date(); }; let base = null; let isLeading = true; let stamp = null; return (...args: any[]) =&gt; { if (isLeading) { caller(args); isLeading = false; return; } stamp = +new Date(); /* istanbul ignore next */ base = base || stamp; if ((stamp - base) &gt;= delay) { /* istanbul ignore next */ caller(args); } }; }; × Search results Close "},"types_index.ts.html":{"id":"types_index.ts.html","title":"Source: types/index.ts","body":" @nonoll/code-snippet Modules browserfunctionstypes Classes EventEmitterMutationObserverVisibilityChangeObserver Events MutationObserver#event:MUTATION_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IEventIMutationObserverExtOptionIMutationObserverInitIPassiveIVisibilityStatus Global eventobserver Source: types/index.ts /** * @module types */ export * from './voidFunction'; × Search results Close "},"observer_MutationObserver.ts.html":{"id":"observer_MutationObserver.ts.html","title":"Source: observer/MutationObserver.ts","body":" @nonoll/code-snippet Modules browserfunctionstypes Classes EventEmitterMutationObserverVisibilityChangeObserver Events MutationObserver#event:MUTATION_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IEventIMutationObserverExtOptionIMutationObserverInitIPassiveIVisibilityStatus Global eventobserver Source: observer/MutationObserver.ts import { TypeVoidFunction } from '../types'; import { EventEmitter } from '../event'; import { debounce as _debounce, noop } from '../functions'; import { IMutationObserverExtOption } from './index'; /** * @typedef {String} MutationRecordType * @alias MutationRecordType * @memberof MutationObserver * @see https://developer.mozilla.org/ko/docs/Web/API/MutationObserver#MutationObserverInit * @property {String} childList * @property {String} attributes * @property {String} characterData * @property {String} subtree */ // for jsdoc /** * @export * @readonly * @enum {MutationRecordType} */ export enum MutationRecordType { childList = 'childList', attributes = 'attributes', characterData = 'characterData', subtree = 'subtree' } /** * MutationEvent Types * @event MutationObserver#MUTATION_EVENTS * @memberof MutationObserver * @property {String} CHANGE_CHILD_LIST - childList 변경 시점 * @property {String} CHANGE_SUBTREE - subtree 변경 시점 * @property {String} CHANGE_ATTRIBUTES - attributes 변경 시점 * @property {String} CHANGE_CHARACTER_DATA - data 변경 시점 * @property {String} CHANGE - 기타 변경 시점 * @property {String} WILD_CARD - 모든 변경 시점 */ // for jsdoc /** * @export * @readonly * @enum {MUTATION_EVENTS} */ export enum MUTATION_EVENTS { CHANGE_CHILD_LIST = 'MUTATION_OBERSERVER-EVENTS-CHANGE_CHILD_LIST', CHANGE_SUBTREE = 'MUTATION_OBERSERVER-EVENTS-CHANGE_SUBTREE', CHANGE_ATTRIBUTES = 'MUTATION_OBERSERVER-EVENTS-CHANGE_ATTRIBUTES', CHANGE_CHARACTER_DATA = 'MUTATION_OBERSERVER-EVENTS-CHANGE_CHARACTER_DATA', CHANGE = 'MUTATION_OBERSERVER-EVENTS-CHANGE', WILD_CARD = 'MUTATION_OBERSERVER-EVENTS-CHANGE_WILCD_CARD' } class PureMutationObserver { private pure: any; constructor(callback: MutationCallback) { // TODO polyfill // const MutationObserver = require('mutation-observer'); // this.pure = new MutationObserver(callback); this.pure = new (window as any).MutationObserver(callback); } public observe(target: HTMLElement | any, options: MutationObserverInit): void { this.pure.observe(target, options); } public disconnect(): void { this.pure.disconnect(); } } /** * target 으로 설정된 element 의 변화를 감지 &lt;iframe src=\"https://codesandbox.io/embed/nonollcode-snippet-9gko8?autoresize=1&amp;expanddevtools=1&amp;fontsize=14&amp;hidenavigation=1&amp;initialpath=%2Fobserver-MutationObserver.html&amp;module=%2Fobserver-MutationObserver.html&amp;theme=dark\" style=\"width:100%; height:500px; border:1px solid black; border-radius: 4px; overflow:hidden;\" title=\"@nonoll/code-snippet\" allow=\"geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\" &gt;&lt;/iframe&gt; * @export * @class MutationObserver * @alias observer/MutationObserver * @extends EventEmitter * @see https://developer.mozilla.org/ko/docs/Web/API/MutationObserver * @see https://github.com/webmodules/mutation-observer * @see https://developer.mozilla.org/ko/docs/Web/API/MutationObserver#MutationObserverInit * @param {Partial&lt;IMutationObserverExtOption&gt;} option * @param {HTMLElement} [option.target=null] target * @param {Number} [option.debounce=300] debounce * @param {Function|null} [option.callback={@link noop}] callback function * @param {Object} [option.options={}] * @param {Boolean} [option.options.childList] * @param {Boolean} [option.options.attributes] * @param {Boolean} [option.options.characterData] * @param {Boolean} [option.options.subtree] * @param {Boolean} [option.options.attributeOldValue] * @param {Boolean} [option.options.characterDataOldValue] * @param {Array.&lt;String&gt;} [option.options.attributeFilter] [MDN attributeFilter]{@link https://developer.mozilla.org/en-US/docs/Web/API/MutationObserverInit/attributeFilter} * @example import { MutationObserver, MUTATION_EVENTS } from '@nonoll/code-snippet/observer'; const createElement = ({ tag = 'div', id = '', style = '', value = '', text = '' }) =&gt; { const doc = window.document; const target = doc.createElement(tag); target.setAttribute('id', id); target.setAttribute('style', style); target.setAttribute('value', value); if (text) { target.textContent = text; } return target; } let observer; const forExample = () =&gt; { if (observer) { console.log('already example'); return; } const doc = window.document; const target = createElement({ id: 'example_target', style: 'border: 1px solid red' }); doc.body.appendChild(target); const options = { childList: true, subtree: true }; observer = new MutationObserver({ target, options }); observer.on(MUTATION_EVENTS.WILD_CARD, (type, values) =&gt; { console.log('wildCard', type, values); }).on(MUTATION_EVENTS.CHANGE_CHILD_LIST, values =&gt; { console.log('childList', values); }); observer.attach(); const attachButton = createElement({ tag: 'button', text: 'observer attach' }); const detachButton = createElement({ tag: 'button', text: 'observer detach' }); const appendButton = createElement({ tag: 'button', text: 'append' }); doc.body.appendChild(attachButton); doc.body.appendChild(detachButton); doc.body.appendChild(appendButton); attachButton.addEventListener('click', e =&gt; { e.preventDefault(); console.log('attachButton clicked'); if (!observer) { return; } observer.attach(); }); detachButton.addEventListener('click', e =&gt; { e.preventDefault(); console.log('detachButton clicked'); if (!observer) { return; } observer.detach(); }); appendButton.addEventListener('click', e =&gt; { e.preventDefault(); console.log('appendButton clicked'); if (!observer) { return; } const input = createElement({ tag: 'input', value: `${+new Date()}` }); target.appendChild(input); }); } forExample(); */ export class MutationObserver extends EventEmitter { private target: HTMLElement; private callback: TypeVoidFunction; private observer: PureMutationObserver; private options: MutationObserverInit; constructor({ target = null, debounce = 300, callback = noop, options = {} }: Partial&lt;IMutationObserverExtOption&gt;) { super(); const defaultOptions = { childList: true, subtree: true }; this.target = target; this.options = Object.assign({}, defaultOptions, options); this.onMutationObserverListener = this.onMutationObserverListener.bind(this); /* istanbul ignore next: for noop */ this.callback = callback || noop; if (debounce) { this.observer = new PureMutationObserver(_debounce(this.onMutationObserverListener, debounce) as MutationCallback); } else { this.observer = new PureMutationObserver(this.onMutationObserverListener); } } /** * 이벤트 감지 설정 * @returns {MutationObserver} * @memberof MutationObserver * @example observer.attach(); */ public attach(): MutationObserver { this.observer.observe(this.target, this.options); return this; } /** * 이벤트 감지 등록 * @override * @param {string} eventName * @param {TypeVoidFunction} [listener={@link noop}] * @param {*} [context] * @memberof MutationObserver * @listens MutationObserver#MUTATION_EVENTS * @returns {MutationObserver} */ public on(eventName: string, /* istanbul ignore next: for noop */ listener: TypeVoidFunction = noop, context?: any): MutationObserver { super.on(eventName, listener, context); return this; } /** * 변화 감지 이벤트 리스너 * @private * @param {MutationRecord[]} mutations [MDN MutationRecord]{@link https://developer.mozilla.org/en-US/docs/Web/API/MutationRecord} * @memberof MutationObserver * @fires MutationObserver#MUTATION_EVENTS */ private onMutationObserverListener(mutations: MutationRecord[]): void { mutations.forEach(mutation =&gt; { const type = mutation.type as MutationRecordType; const values = { type, mutation }; switch (type) { case MutationRecordType.childList: this.callback(values); this.emit(MUTATION_EVENTS.CHANGE_CHILD_LIST, values); this.emit(MUTATION_EVENTS.WILD_CARD, MUTATION_EVENTS.CHANGE_CHILD_LIST, values); break; case MutationRecordType.subtree: this.callback(values); this.emit(MUTATION_EVENTS.CHANGE_SUBTREE, values); this.emit(MUTATION_EVENTS.WILD_CARD, MUTATION_EVENTS.CHANGE_SUBTREE, values); break; case MutationRecordType.attributes: this.callback(values); this.emit(MUTATION_EVENTS.CHANGE_ATTRIBUTES, values); this.emit(MUTATION_EVENTS.WILD_CARD, MUTATION_EVENTS.CHANGE_ATTRIBUTES, values); break; case MutationRecordType.characterData: this.callback(values); this.emit(MUTATION_EVENTS.CHANGE_CHARACTER_DATA, values); this.emit(MUTATION_EVENTS.WILD_CARD, MUTATION_EVENTS.CHANGE_CHARACTER_DATA, values); break; /* istanbul ignore next: for default */ default: this.callback(values); this.emit(MUTATION_EVENTS.CHANGE, type, values); this.emit(MUTATION_EVENTS.WILD_CARD, type, values); break; } }); } /** * 이벤트 감지 해제 * @returns {MutationObserver} * @memberof MutationObserver * @example observer.detach(); */ public detach(): MutationObserver { if (this.observer) { this.observer.disconnect(); } return this; } /** * destory * @returns {MutationObserver} * @memberof MutationObserver * @example observer.destroy(); */ public destroy(): MutationObserver { this.detach(); this.observer = null; return this; } } × Search results Close "},"functions_noop.ts.html":{"id":"functions_noop.ts.html","title":"Source: functions/noop.ts","body":" @nonoll/code-snippet Modules browserfunctionstypes Classes EventEmitterMutationObserverVisibilityChangeObserver Events MutationObserver#event:MUTATION_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IEventIMutationObserverExtOptionIMutationObserverInitIPassiveIVisibilityStatus Global eventobserver Source: functions/noop.ts /** * empty function * @memberof module:functions * @alias noop */ export function noop() {} × Search results Close "},"observer_index.ts.html":{"id":"observer_index.ts.html","title":"Source: observer/index.ts","body":" @nonoll/code-snippet Modules browserfunctionstypes Classes EventEmitterMutationObserverVisibilityChangeObserver Events MutationObserver#event:MUTATION_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IEventIMutationObserverExtOptionIMutationObserverInitIPassiveIVisibilityStatus Global eventobserver Source: observer/index.ts /** * @alias observer */ export * from './IMutationObserverExtOption'; export * from './IMutationObserverInit'; export * from './IVisibilityStatus'; export * from './MutationObserver'; export * from './VisibilityChangeObserver'; × Search results Close "},"types_voidFunction.ts.html":{"id":"types_voidFunction.ts.html","title":"Source: types/voidFunction.ts","body":" @nonoll/code-snippet Modules browserfunctionstypes Classes EventEmitterMutationObserverVisibilityChangeObserver Events MutationObserver#event:MUTATION_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IEventIMutationObserverExtOptionIMutationObserverInitIPassiveIVisibilityStatus Global eventobserver Source: types/voidFunction.ts /** * void function type define * @memberof module:types * @alias TypeVoidFunction */ export type TypeVoidFunction = (...args: any[]) =&gt; void; × Search results Close "},"observer_VisibilityChangeObserver.ts.html":{"id":"observer_VisibilityChangeObserver.ts.html","title":"Source: observer/VisibilityChangeObserver.ts","body":" @nonoll/code-snippet Modules browserfunctionstypes Classes EventEmitterMutationObserverVisibilityChangeObserver Events MutationObserver#event:MUTATION_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IEventIMutationObserverExtOptionIMutationObserverInitIPassiveIVisibilityStatus Global eventobserver Source: observer/VisibilityChangeObserver.ts import { EventEmitter } from '../event'; import { IVisibilityStatus } from './index'; const doc = window.document as any; /** * 실행된 browser 기준으로, visibilityChange event 에 맞는 vendorPrefix 반환 * @memberof VisibilityChangeObserver * @export * @returns {String} */ export function getVendorPrefix(): string { let prefix = ''; if (typeof doc.hidden !== 'undefined') { prefix = ''; } /* istanbul ignore next */ else if (typeof doc.msHidden !== 'undefined') { prefix = 'ms'; } /* istanbul ignore next */ else if (typeof doc.webkitHidden !== 'undefined') { prefix = 'webkit'; } return prefix; } /** * getVendorPrefix 의 값 * @constant * @memberof VisibilityChangeObserver * @type {String} */ export const VENDOR_PREFIX = getVendorPrefix(); /** * browser 상의 visibilitychange event 명 * @constant * @memberof VisibilityChangeObserver * @type {String} */ export const VISIBILITY_EVENT_NAME = `${VENDOR_PREFIX}visibilitychange`; /** * browser 상의 visibility hidden 시점의 event 명 * @constant * @memberof VisibilityChangeObserver * @type {String} */ export const HIDDEN_METHOD_NAME = VENDOR_PREFIX ? /* istanbul ignore next */ `${VENDOR_PREFIX}Hidden` : 'hidden'; /** * VisibilityChange Event Types * @event VisibilityChangeObserver#VISIBILITY_EVENTS * @memberof VisibilityChangeObserver * @property {String} CHANGE - 변경 시점 * @property {String} GET_STATUS - 현재 상태값 체크 */ // for jsdoc /** * @export * @readonly * @enum {VISIBILITY_EVENTS} */ export enum VISIBILITY_EVENTS { CHANGE = 'VISIBILITY_CHANGE-EVENTS-CHANGE', GET_STATUS = 'VISIBILITY_CHANGE-EVENTS-GET_STATUS' } /** * browser 의 visibility 변화를 감지 &lt;iframe src=\"https://codesandbox.io/embed/nonollcode-snippet-9gko8?autoresize=1&amp;expanddevtools=1&amp;fontsize=14&amp;hidenavigation=1&amp;initialpath=%2Fobserver-VisibilityChange.html&amp;module=%2Fobserver-VisibilityChange.html&amp;theme=dark\" style=\"width:100%; height:500px; border:1px solid black; border-radius: 4px; overflow:hidden;\" title=\"@nonoll/code-snippet\" allow=\"geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\" &gt;&lt;/iframe&gt; * @export * @class VisibilityChangeObserver * @alias observer/VisibilityChangeObserver * @extends {EventEmitter} * @see https://developer.mozilla.org/en-US/docs/Web/API/Page_Visibility_API * @see https://caniuse.com/#search=visibilityState * @throws {Error} browser 에서 지원하지 못하는 경우 - throw new Error('VisibilityChange 지원되지 않는 브라우저입니다.'); * @example import { VisibilityChangeObserver, VISIBILITY_EVENTS } from '@nonoll/code-snippet/observer'; const createElement = ({ tag = 'div', id = '', style = '', value = '', text = '' }) =&gt; { const doc = window.document; const target = doc.createElement(tag); target.setAttribute('id', id); target.setAttribute('style', style); target.setAttribute('value', value); if (text) { target.textContent = text; } return target; } let observer; const forExample = () =&gt; { if (observer) { console.log('already example'); return; } const doc = window.document; observer = new VisibilityChangeObserver(); observer.on(VISIBILITY_EVENTS.CHANGE, ({ isHidden, isShow }) =&gt; { console.log('change', isHidden, isShow); }); observer.attach(); observer.emit(VISIBILITY_EVENTS.GET_STATUS); const statusButton = createElement({ tag: 'button', text: 'status' }); const openButton = createElement({ tag: 'button', text: 'window open' }); doc.body.appendChild(statusButton); doc.body.appendChild(openButton); statusButton.addEventListener('click', e =&gt; { e.preventDefault(); console.log('statusButton clicked'); if (!observer) { return; } // observer.emit(VISIBILITY_EVENTS.GET_STATUS); const { isHidden, isShow } = observer.getStatus(); console.log('getStatus', isHidden, isShow); }); openButton.addEventListener('click', e =&gt; { e.preventDefault(); console.log('openButton clicked'); if (!observer) { return; } const browser = window.open('https://nonoll.github.io/code-snippet/'); if (!browser) { console.error('팝업이 차단되어 있습니다.'); } }); } forExample(); */ export class VisibilityChangeObserver extends EventEmitter { constructor() { super(); /* istanbul ignore next: for not support error */ if (!VisibilityChangeObserver.isSupportVisibilityChange()) { throw new Error('VisibilityChange 지원되지 않는 브라우저입니다.'); } this.onVisibilityChangeListener = this.onVisibilityChangeListener.bind(this); } /** * visibilitychange event 명 반환 * @static * @returns {String} * @memberof VisibilityChangeObserver */ static visibilityEventName(): string { return `${VENDOR_PREFIX}visibilitychange`; } /** * visibility hidden event 명 반환 * @static * @returns {String} * @memberof VisibilityChangeObserver */ static hiddenMethodName(): string { return HIDDEN_METHOD_NAME; } /** * visibility change 지원 여부 반환 * @static * @returns {boolean} * @memberof VisibilityChangeObserver */ static isSupportVisibilityChange(): boolean { return typeof doc[VisibilityChangeObserver.hiddenMethodName()] !== 'undefined'; } /** * @private * @memberof VisibilityChangeObserver * @see IVisibilityStatus * @fires VisibilityChangeObserver#VISIBILITY_EVENTS */ private onVisibilityChangeListener(): void { const isHidden = this.isHidden(); this.emit(VISIBILITY_EVENTS.CHANGE, { isHidden, isShow: !isHidden }); } /** * @private * @returns {Boolean} * @memberof VisibilityChangeObserver */ private isHidden(): boolean { return doc[VisibilityChangeObserver.hiddenMethodName()]; } /** * 현재 상태를 반환 * @returns {IVisibilityStatus} * @memberof VisibilityChangeObserver */ public getStatus(): IVisibilityStatus { this.emit(VISIBILITY_EVENTS.GET_STATUS); const isHidden = this.isHidden(); return { isHidden, isShow: !isHidden }; } /** * 이벤트 감지 설정 * @returns {VisibilityChangeObserver} * @memberof VisibilityChangeObserver */ public attach(): VisibilityChangeObserver { doc.addEventListener(VisibilityChangeObserver.visibilityEventName(), this.onVisibilityChangeListener, false); this.on(VISIBILITY_EVENTS.GET_STATUS, this.onVisibilityChangeListener); return this; } /** * 이벤트 감지 해제 * @returns {VisibilityChangeObserver} * @memberof VisibilityChangeObserver */ public detach(): VisibilityChangeObserver { doc.removeEventListener(VisibilityChangeObserver.visibilityEventName(), this.onVisibilityChangeListener, false); this.off(VISIBILITY_EVENTS.GET_STATUS, this.onVisibilityChangeListener); return this; } /** * destory * @returns {VisibilityChangeObserver} * @memberof VisibilityChangeObserver */ public destroy(): VisibilityChangeObserver { this.detach(); return this; } } × Search results Close "},"global.html":{"id":"global.html","title":"Global","body":" @nonoll/code-snippet Modules browserfunctionstypes Classes EventEmitterMutationObserverVisibilityChangeObserver Events MutationObserver#event:MUTATION_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IEventIMutationObserverExtOptionIMutationObserverInitIPassiveIVisibilityStatus Global eventobserver Global Members event Source: event/index.ts, line 4 observer Source: observer/index.ts, line 4 × Search results Close "},"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" @nonoll/code-snippet Modules browserfunctionstypes Classes EventEmitterMutationObserverVisibilityChangeObserver Events MutationObserver#event:MUTATION_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IEventIMutationObserverExtOptionIMutationObserverInitIPassiveIVisibilityStatus Global eventobserver Modules Classes EventEmitter MutationObserver VisibilityChangeObserver Events MUTATION_EVENTS MutationEvent Types Properties: Name Type Description CHANGE_CHILD_LIST String childList 변경 시점 CHANGE_SUBTREE String subtree 변경 시점 CHANGE_ATTRIBUTES String attributes 변경 시점 CHANGE_CHARACTER_DATA String data 변경 시점 CHANGE String 기타 변경 시점 WILD_CARD String 모든 변경 시점 Source: observer/MutationObserver.ts, line 30 Listeners of This Event: MutationObserver#on VISIBILITY_EVENTS VisibilityChange Event Types Properties: Name Type Description CHANGE String 변경 시점 GET_STATUS String 현재 상태값 체크 Source: observer/VisibilityChangeObserver.ts, line 50 × Search results Close "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" @nonoll/code-snippet Modules browserfunctionstypes Classes EventEmitterMutationObserverVisibilityChangeObserver Events MutationObserver#event:MUTATION_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IEventIMutationObserverExtOptionIMutationObserverInitIPassiveIVisibilityStatus Global eventobserver Classes Classes EventEmitter MutationObserver VisibilityChangeObserver Events MUTATION_EVENTS MutationEvent Types Properties: Name Type Description CHANGE_CHILD_LIST String childList 변경 시점 CHANGE_SUBTREE String subtree 변경 시점 CHANGE_ATTRIBUTES String attributes 변경 시점 CHANGE_CHARACTER_DATA String data 변경 시점 CHANGE String 기타 변경 시점 WILD_CARD String 모든 변경 시점 Source: observer/MutationObserver.ts, line 30 Listeners of This Event: MutationObserver#on VISIBILITY_EVENTS VisibilityChange Event Types Properties: Name Type Description CHANGE String 변경 시점 GET_STATUS String 현재 상태값 체크 Source: observer/VisibilityChangeObserver.ts, line 50 × Search results Close "},"interfaces.list.html":{"id":"interfaces.list.html","title":"Interfaces","body":" @nonoll/code-snippet Modules browserfunctionstypes Classes EventEmitterMutationObserverVisibilityChangeObserver Events MutationObserver#event:MUTATION_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IEventIMutationObserverExtOptionIMutationObserverInitIPassiveIVisibilityStatus Global eventobserver Interfaces Classes EventEmitter MutationObserver VisibilityChangeObserver Events MUTATION_EVENTS MutationEvent Types Properties: Name Type Description CHANGE_CHILD_LIST String childList 변경 시점 CHANGE_SUBTREE String subtree 변경 시점 CHANGE_ATTRIBUTES String attributes 변경 시점 CHANGE_CHARACTER_DATA String data 변경 시점 CHANGE String 기타 변경 시점 WILD_CARD String 모든 변경 시점 Source: observer/MutationObserver.ts, line 30 Listeners of This Event: MutationObserver#on VISIBILITY_EVENTS VisibilityChange Event Types Properties: Name Type Description CHANGE String 변경 시점 GET_STATUS String 현재 상태값 체크 Source: observer/VisibilityChangeObserver.ts, line 50 × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" @nonoll/code-snippet Modules browserfunctionstypes Classes EventEmitterMutationObserverVisibilityChangeObserver Events MutationObserver#event:MUTATION_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IEventIMutationObserverExtOptionIMutationObserverInitIPassiveIVisibilityStatus Global eventobserver @nonoll/code-snippet This library was generated with Angular CLI version 8.2.14. Status Links github npm docs codesandbox × Search results Close "},"EventEmitter.html":{"id":"EventEmitter.html","title":"Class: EventEmitter","body":" @nonoll/code-snippet Modules browserfunctionstypes Classes EventEmitterMutationObserverVisibilityChangeObserver Events MutationObserver#event:MUTATION_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IEventIMutationObserverExtOptionIMutationObserverInitIPassiveIVisibilityStatus Global eventobserver Class: EventEmitter event EventEmitter new EventEmitter() EventEmitter 의 기능과 동일한 맥락으로, 간단히 구성 Source: event/EventEmitter.ts, line 5 See: https://www.npmjs.com/package/events Example import { EventEmitter } from '@nonoll/code-snippet/event'; const createElement = ({ tag = 'div', id = '', style = '', value = '', text = '' }) =&gt; { const doc = window.document; const target = doc.createElement(tag); target.setAttribute('id', id); target.setAttribute('style', style); target.setAttribute('value', value); if (text) { target.textContent = text; } return target; } let ee; const forExample = () =&gt; { const doc = window.document; const onButton = createElement({ tag: 'button', text: 'on button' }); const offButton = createElement({ tag: 'button', text: 'off button' }); const emitButton = createElement({ tag: 'button', text: 'emit button' }); const EVENT_NAME = 'EVENT_EXAMPLE'; doc.body.appendChild(onButton); doc.body.appendChild(offButton); doc.body.appendChild(emitButton); ee = new EventEmitter(); ee.on(EVENT_NAME, res =&gt; console.log(res)); onButton.addEventListener('click', e =&gt; { e.preventDefault(); console.log('onButton clicked'); if (!ee) { return; } ee.off(EVENT_NAME); ee.on(EVENT_NAME, res =&gt; console.log(res)); }); offButton.addEventListener('click', e =&gt; { e.preventDefault(); console.log('offButton clicked'); if (!ee) { return; } ee.off(EVENT_NAME); }); emitButton.addEventListener('click', e =&gt; { e.preventDefault(); console.log('emitButton clicked'); if (!ee) { return; } ee.emit(EVENT_NAME, new Date()); }); } forExample(); Methods emit(eventName, values) 이벤트 전파 Parameters: Name Type Argument Description eventName string values Array.&lt;any&gt; &lt;repeatable&gt; Source: event/EventEmitter.ts, line 141 Returns: Type EventEmitter fire(eventName, values) 이벤트 전파 Parameters: Name Type Description eventName string values any Source: event/EventEmitter.ts, line 157 Returns: Type EventEmitter off(eventName [, listener]) 이벤트 감지 해제 Parameters: Name Type Argument Description eventName string listener TypeVoidFunction &lt;optional&gt; Source: event/EventEmitter.ts, line 106 Returns: Type EventEmitter on(eventName [, listener] [, context]) 이벤트 감지 등록 Parameters: Name Type Argument Default Description eventName string listener TypeVoidFunction &lt;optional&gt; noop context * &lt;optional&gt; Source: event/EventEmitter.ts, line 94 Returns: Type EventEmitter once(eventName [, listener] [, context]) 이벤트 1회 감지 등록 Parameters: Name Type Argument Default Description eventName string listener TypeVoidFunction &lt;optional&gt; noop context * &lt;optional&gt; Source: event/EventEmitter.ts, line 125 Returns: Type EventEmitter × Search results Close "},"IEvent.html":{"id":"IEvent.html","title":"Interface: IEvent","body":" @nonoll/code-snippet Modules browserfunctionstypes Classes EventEmitterMutationObserverVisibilityChangeObserver Events MutationObserver#event:MUTATION_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IEventIMutationObserverExtOptionIMutationObserverInitIPassiveIVisibilityStatus Global eventobserver Interface: IEvent IEvent Event Interface Properties: Name Type Argument Description eventName String 이벤트 명 listener TypeVoidFunction &lt;optional&gt; listener function context any &lt;optional&gt; context Source: event/IEvent.ts, line 11 × Search results Close "},"IMutationObserverExtOption.html":{"id":"IMutationObserverExtOption.html","title":"Interface: IMutationObserverExtOption","body":" @nonoll/code-snippet Modules browserfunctionstypes Classes EventEmitterMutationObserverVisibilityChangeObserver Events MutationObserver#event:MUTATION_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IEventIMutationObserverExtOptionIMutationObserverInitIPassiveIVisibilityStatus Global eventobserver Interface: IMutationObserverExtOption MutationObserver IMutationObserverExtOption MutationObserver init options Properties: Name Type Argument Description target HTMLElement 감지할 element debounce Number &lt;optional&gt; 이벤트 debounce 값 callback TypeVoidFunction &lt;optional&gt; 이벤트 callback options IMutationObserverInit &lt;optional&gt; 세부 MutationObserver options Source: observer/IMutationObserverExtOption.ts, line 14 × Search results Close "},"IMutationObserverInit.html":{"id":"IMutationObserverInit.html","title":"Interface: IMutationObserverInit","body":" @nonoll/code-snippet Modules browserfunctionstypes Classes EventEmitterMutationObserverVisibilityChangeObserver Events MutationObserver#event:MUTATION_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IEventIMutationObserverExtOptionIMutationObserverInitIPassiveIVisibilityStatus Global eventobserver Interface: IMutationObserverInit MutationObserver IMutationObserverInit pure MutationObserver init options Properties: Name Type Argument Description childList Boolean &lt;optional&gt; target 의 하위 요소 추가 / 삭제 감지 유무 attributes Boolean &lt;optional&gt; target 의 속성 변경 감지 유무 characterData Boolean &lt;optional&gt; target 의 데이터 변경 감지 유무 subtree Boolean &lt;optional&gt; target 의 하위 요소 변경 사항 감지 유무 attributeOldValue Boolean &lt;optional&gt; attributeOldValue TBD characterDataOldValue Boolean &lt;optional&gt; TBD attributeFilter Array.&lt;String&gt; &lt;optional&gt; TBD MDN attributeFilter Source: observer/IMutationObserverInit.ts, line 15 See: https://developer.mozilla.org/ko/docs/Web/API/MutationObserver#MutationObserverInit × Search results Close "},"IPassive.html":{"id":"IPassive.html","title":"Interface: IPassive","body":" @nonoll/code-snippet Modules browserfunctionstypes Classes EventEmitterMutationObserverVisibilityChangeObserver Events MutationObserver#event:MUTATION_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IEventIMutationObserverExtOptionIMutationObserverInitIPassiveIVisibilityStatus Global eventobserver Interface: IPassive IPassive Properties: Name Type Description passive Boolean passive 지원 유무 Source: browser/isSupportPassive.ts, line 1 See: https://developers.google.com/web/tools/lighthouse/audits/passive-event-listeners?hl=ko × Search results Close "},"IVisibilityStatus.html":{"id":"IVisibilityStatus.html","title":"Interface: IVisibilityStatus","body":" @nonoll/code-snippet Modules browserfunctionstypes Classes EventEmitterMutationObserverVisibilityChangeObserver Events MutationObserver#event:MUTATION_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IEventIMutationObserverExtOptionIMutationObserverInitIPassiveIVisibilityStatus Global eventobserver Interface: IVisibilityStatus VisibilityChangeObserver IVisibilityStatus Visibility Status 반환 규격 Properties: Name Type Description hidden Boolean hidden 상태 유무 show Boolean show 상태 유무 Source: observer/IVisibilityStatus.ts, line 10 See: VisibilityChangeObserver#getStatus × Search results Close "},"module-browser.html":{"id":"module-browser.html","title":"Module: browser","body":" @nonoll/code-snippet Modules browserfunctionstypes Classes EventEmitterMutationObserverVisibilityChangeObserver Events MutationObserver#event:MUTATION_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IEventIMutationObserverExtOptionIMutationObserverInitIPassiveIVisibilityStatus Global eventobserver Module: browser Source: browser/index.ts, line 1 Methods &lt;static&gt; getPassiveOption() 실행된 browser 에서 지원하는 passive 옵션 값 반환 Source: browser/isSupportPassive.ts, line 44 See: https://developers.google.com/web/tools/lighthouse/audits/passive-event-listeners?hl=ko Returns: Type IPassive | Boolean Example import { getPassiveOption } from '@nonoll/code-snippet/browser'; console.log(getPassiveOption()); // IPassive or false &lt;static&gt; isAOS() browser - AOS 유무 반환 Source: browser/isAOS.ts, line 10 Returns: Type Boolean Example import { isAOS } from '@nonoll/code-snippet/browser'; console.log(isAOS()); // true or false &lt;static&gt; isIOS() browser - IOS 유무 반환 Source: browser/isIOS.ts, line 10 Returns: Type Boolean Example import { isIOS } from '@nonoll/code-snippet/browser'; console.log(isIOS()); // true or false &lt;static&gt; vendorPrefix() browser - vendorPrefix 반환 Source: browser/vendorPrefix.ts, line 27 See: https://davidwalsh.name/vendor-prefix Returns: Type IVendorPrefix Example import { vendorPrefix } from '@nonoll/code-snippet/browser'; console.log(vendorPrefix()); // {dom: \"Webkit\", lowercase: \"webkit\", css: \"-webkit-\", js: \"Webkit\"} Type Definitions IVendorPrefix IVendorPrefix Type: TSInterface Properties: Name Type Description dom string dom 기준, prefix lowercase string 소문자로 반환 css string css 기준, prefix js string js 기준, prefix Source: browser/vendorPrefix.ts, line 10 × Search results Close "},"module-functions.html":{"id":"module-functions.html","title":"Module: functions","body":" @nonoll/code-snippet Modules browserfunctionstypes Classes EventEmitterMutationObserverVisibilityChangeObserver Events MutationObserver#event:MUTATION_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IEventIMutationObserverExtOptionIMutationObserverInitIPassiveIVisibilityStatus Global eventobserver Module: functions Source: functions/index.ts, line 1 Methods &lt;static&gt; debounce(fn [, delay]) debounce Parameters: Name Type Argument Default Description fn TypeVoidFunction delay Number &lt;optional&gt; 0 Source: functions/debounce.ts, line 37 See: https://css-tricks.com/debouncing-throttling-explained-examples/ Returns: Type TypeVoidFunction Example import { debounce } from '@nonoll/code-snippet/functions'; const forExample = () =&gt; { const delay = 1000 * 1; const listener = debounce(res =&gt; console.log(res), delay); listener('1'); listener('2'); listener('3'); listener(`4 ${new Date()}`); setTimeout(() =&gt; { listener(`5 ${new Date()}`); }, delay); } forExample(); &lt;static&gt; deepFreeze(target) deepFreeze Parameters: Name Type Description target any Source: functions/deepFreeze.ts, line 7 &lt;static&gt; throttle(fn [, delay]) throttle Parameters: Name Type Argument Default Description fn TypeVoidFunction delay Number &lt;optional&gt; 0 Source: functions/throttle.ts, line 37 See: https://css-tricks.com/debouncing-throttling-explained-examples/ Returns: Type TypeVoidFunction Example import { debounce } from '@nonoll/code-snippet/functions'; const forExample = () =&gt; { const delay = 1000 * 1; const listener = throttle(res =&gt; console.log(res), delay); listener(`1 ${new Date()}`); listener('2'); listener('3'); listener('4'); setTimeout(() =&gt; { listener(`5 ${new Date()}`); }, delay); } forExample(); noop() empty function Source: functions/noop.ts, line 6 × Search results Close "},"module-types.html":{"id":"module-types.html","title":"Module: types","body":" @nonoll/code-snippet Modules browserfunctionstypes Classes EventEmitterMutationObserverVisibilityChangeObserver Events MutationObserver#event:MUTATION_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IEventIMutationObserverExtOptionIMutationObserverInitIPassiveIVisibilityStatus Global eventobserver Module: types Source: types/index.ts, line 1 Members TypeVoidFunction void function type define Source: types/voidFunction.ts, line 6 × Search results Close "},"MutationObserver.html":{"id":"MutationObserver.html","title":"Class: MutationObserver","body":" @nonoll/code-snippet Modules browserfunctionstypes Classes EventEmitterMutationObserverVisibilityChangeObserver Events MutationObserver#event:MUTATION_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IEventIMutationObserverExtOptionIMutationObserverInitIPassiveIVisibilityStatus Global eventobserver Class: MutationObserver MutationObserver new MutationObserver(option) target 으로 설정된 element 의 변화를 감지 Parameters: Name Type Description option Partial.&lt;IMutationObserverExtOption&gt; Properties Name Type Argument Default Description target HTMLElement &lt;optional&gt; null target debounce Number &lt;optional&gt; 300 debounce callback function | null &lt;optional&gt; noop callback function options Object &lt;optional&gt; {} Properties Name Type Argument Description childList Boolean &lt;optional&gt; attributes Boolean &lt;optional&gt; characterData Boolean &lt;optional&gt; subtree Boolean &lt;optional&gt; attributeOldValue Boolean &lt;optional&gt; characterDataOldValue Boolean &lt;optional&gt; attributeFilter Array.&lt;String&gt; &lt;optional&gt; MDN attributeFilter Source: observer/MutationObserver.ts, line 75 See: https://developer.mozilla.org/ko/docs/Web/API/MutationObserver https://github.com/webmodules/mutation-observer https://developer.mozilla.org/ko/docs/Web/API/MutationObserver#MutationObserverInit Example import { MutationObserver, MUTATION_EVENTS } from '@nonoll/code-snippet/observer'; const createElement = ({ tag = 'div', id = '', style = '', value = '', text = '' }) =&gt; { const doc = window.document; const target = doc.createElement(tag); target.setAttribute('id', id); target.setAttribute('style', style); target.setAttribute('value', value); if (text) { target.textContent = text; } return target; } let observer; const forExample = () =&gt; { if (observer) { console.log('already example'); return; } const doc = window.document; const target = createElement({ id: 'example_target', style: 'border: 1px solid red' }); doc.body.appendChild(target); const options = { childList: true, subtree: true }; observer = new MutationObserver({ target, options }); observer.on(MUTATION_EVENTS.WILD_CARD, (type, values) =&gt; { console.log('wildCard', type, values); }).on(MUTATION_EVENTS.CHANGE_CHILD_LIST, values =&gt; { console.log('childList', values); }); observer.attach(); const attachButton = createElement({ tag: 'button', text: 'observer attach' }); const detachButton = createElement({ tag: 'button', text: 'observer detach' }); const appendButton = createElement({ tag: 'button', text: 'append' }); doc.body.appendChild(attachButton); doc.body.appendChild(detachButton); doc.body.appendChild(appendButton); attachButton.addEventListener('click', e =&gt; { e.preventDefault(); console.log('attachButton clicked'); if (!observer) { return; } observer.attach(); }); detachButton.addEventListener('click', e =&gt; { e.preventDefault(); console.log('detachButton clicked'); if (!observer) { return; } observer.detach(); }); appendButton.addEventListener('click', e =&gt; { e.preventDefault(); console.log('appendButton clicked'); if (!observer) { return; } const input = createElement({ tag: 'input', value: `${+new Date()}` }); target.appendChild(input); }); } forExample(); Extends EventEmitter Methods attach() 이벤트 감지 설정 Source: observer/MutationObserver.ts, line 216 Returns: Type MutationObserver Example observer.attach(); destroy() destory Source: observer/MutationObserver.ts, line 304 Returns: Type MutationObserver Example observer.destroy(); detach() 이벤트 감지 해제 Source: observer/MutationObserver.ts, line 290 Returns: Type MutationObserver Example observer.detach(); emit(eventName, values) 이벤트 전파 Parameters: Name Type Argument Description eventName string values Array.&lt;any&gt; &lt;repeatable&gt; Inherited From: EventEmitter#emit Overrides: EventEmitter#emit Source: event/EventEmitter.ts, line 141 Returns: Type EventEmitter fire(eventName, values) 이벤트 전파 Parameters: Name Type Description eventName string values any Inherited From: EventEmitter#fire Overrides: EventEmitter#fire Source: event/EventEmitter.ts, line 157 Returns: Type EventEmitter off(eventName [, listener]) 이벤트 감지 해제 Parameters: Name Type Argument Description eventName string listener TypeVoidFunction &lt;optional&gt; Inherited From: EventEmitter#off Overrides: EventEmitter#off Source: event/EventEmitter.ts, line 106 Returns: Type EventEmitter on(eventName [, listener] [, context]) 이벤트 감지 등록 Parameters: Name Type Argument Default Description eventName string listener TypeVoidFunction &lt;optional&gt; noop context * &lt;optional&gt; Inherited From: MutationObserver#on Overrides: EventEmitter#on Source: observer/MutationObserver.ts, line 231 Listens to Events: MutationObserver#event:MUTATION_EVENTS Returns: Type MutationObserver once(eventName [, listener] [, context]) 이벤트 1회 감지 등록 Parameters: Name Type Argument Default Description eventName string listener TypeVoidFunction &lt;optional&gt; noop context * &lt;optional&gt; Inherited From: EventEmitter#once Overrides: EventEmitter#once Source: event/EventEmitter.ts, line 125 Returns: Type EventEmitter Type Definitions MutationRecordType Type: String Properties: Name Type Description childList String attributes String characterData String subtree String Source: observer/MutationObserver.ts, line 6 See: https://developer.mozilla.org/ko/docs/Web/API/MutationObserver#MutationObserverInit Events MUTATION_EVENTS MutationEvent Types Properties: Name Type Description CHANGE_CHILD_LIST String childList 변경 시점 CHANGE_SUBTREE String subtree 변경 시점 CHANGE_ATTRIBUTES String attributes 변경 시점 CHANGE_CHARACTER_DATA String data 변경 시점 CHANGE String 기타 변경 시점 WILD_CARD String 모든 변경 시점 Source: observer/MutationObserver.ts, line 30 Listeners of This Event: MutationObserver#on × Search results Close "},"VisibilityChangeObserver.html":{"id":"VisibilityChangeObserver.html","title":"Class: VisibilityChangeObserver","body":" @nonoll/code-snippet Modules browserfunctionstypes Classes EventEmitterMutationObserverVisibilityChangeObserver Events MutationObserver#event:MUTATION_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IEventIMutationObserverExtOptionIMutationObserverInitIPassiveIVisibilityStatus Global eventobserver Class: VisibilityChangeObserver VisibilityChangeObserver new VisibilityChangeObserver() browser 의 visibility 변화를 감지 Source: observer/VisibilityChangeObserver.ts, line 68 See: https://developer.mozilla.org/en-US/docs/Web/API/Page_Visibility_API https://caniuse.com/#search=visibilityState Throws: browser 에서 지원하지 못하는 경우 - throw new Error('VisibilityChange 지원되지 않는 브라우저입니다.'); Type Error Example import { VisibilityChangeObserver, VISIBILITY_EVENTS } from '@nonoll/code-snippet/observer'; const createElement = ({ tag = 'div', id = '', style = '', value = '', text = '' }) =&gt; { const doc = window.document; const target = doc.createElement(tag); target.setAttribute('id', id); target.setAttribute('style', style); target.setAttribute('value', value); if (text) { target.textContent = text; } return target; } let observer; const forExample = () =&gt; { if (observer) { console.log('already example'); return; } const doc = window.document; observer = new VisibilityChangeObserver(); observer.on(VISIBILITY_EVENTS.CHANGE, ({ isHidden, isShow }) =&gt; { console.log('change', isHidden, isShow); }); observer.attach(); observer.emit(VISIBILITY_EVENTS.GET_STATUS); const statusButton = createElement({ tag: 'button', text: 'status' }); const openButton = createElement({ tag: 'button', text: 'window open' }); doc.body.appendChild(statusButton); doc.body.appendChild(openButton); statusButton.addEventListener('click', e =&gt; { e.preventDefault(); console.log('statusButton clicked'); if (!observer) { return; } // observer.emit(VISIBILITY_EVENTS.GET_STATUS); const { isHidden, isShow } = observer.getStatus(); console.log('getStatus', isHidden, isShow); }); openButton.addEventListener('click', e =&gt; { e.preventDefault(); console.log('openButton clicked'); if (!observer) { return; } const browser = window.open('https://nonoll.github.io/code-snippet/'); if (!browser) { console.error('팝업이 차단되어 있습니다.'); } }); } forExample(); Extends EventEmitter Members &lt;static, constant&gt; HIDDEN_METHOD_NAME :String browser 상의 visibility hidden 시점의 event 명 Type: String Source: observer/VisibilityChangeObserver.ts, line 48 &lt;static, constant&gt; VENDOR_PREFIX :String getVendorPrefix 의 값 Type: String Source: observer/VisibilityChangeObserver.ts, line 32 &lt;static, constant&gt; VISIBILITY_EVENT_NAME :String browser 상의 visibilitychange event 명 Type: String Source: observer/VisibilityChangeObserver.ts, line 40 Methods &lt;static&gt; getVendorPrefix() 실행된 browser 기준으로, visibilityChange event 에 맞는 vendorPrefix 반환 Source: observer/VisibilityChangeObserver.ts, line 12 Returns: Type String &lt;static&gt; hiddenMethodName() visibility hidden event 명 반환 Source: observer/VisibilityChangeObserver.ts, line 178 Returns: Type String &lt;static&gt; isSupportVisibilityChange() visibility change 지원 여부 반환 Source: observer/VisibilityChangeObserver.ts, line 188 Returns: Type boolean &lt;static&gt; visibilityEventName() visibilitychange event 명 반환 Source: observer/VisibilityChangeObserver.ts, line 168 Returns: Type String attach() 이벤트 감지 설정 Source: observer/VisibilityChangeObserver.ts, line 229 Returns: Type VisibilityChangeObserver destroy() destory Source: observer/VisibilityChangeObserver.ts, line 253 Returns: Type VisibilityChangeObserver detach() 이벤트 감지 해제 Source: observer/VisibilityChangeObserver.ts, line 241 Returns: Type VisibilityChangeObserver emit(eventName, values) 이벤트 전파 Parameters: Name Type Argument Description eventName string values Array.&lt;any&gt; &lt;repeatable&gt; Inherited From: EventEmitter#emit Overrides: EventEmitter#emit Source: event/EventEmitter.ts, line 141 Returns: Type EventEmitter fire(eventName, values) 이벤트 전파 Parameters: Name Type Description eventName string values any Inherited From: EventEmitter#fire Overrides: EventEmitter#fire Source: event/EventEmitter.ts, line 157 Returns: Type EventEmitter getStatus() 현재 상태를 반환 Source: observer/VisibilityChangeObserver.ts, line 217 Returns: Type IVisibilityStatus off(eventName [, listener]) 이벤트 감지 해제 Parameters: Name Type Argument Description eventName string listener TypeVoidFunction &lt;optional&gt; Inherited From: EventEmitter#off Overrides: EventEmitter#off Source: event/EventEmitter.ts, line 106 Returns: Type EventEmitter on(eventName [, listener] [, context]) 이벤트 감지 등록 Parameters: Name Type Argument Default Description eventName string listener TypeVoidFunction &lt;optional&gt; noop context * &lt;optional&gt; Inherited From: EventEmitter#on Overrides: EventEmitter#on Source: event/EventEmitter.ts, line 94 Returns: Type EventEmitter once(eventName [, listener] [, context]) 이벤트 1회 감지 등록 Parameters: Name Type Argument Default Description eventName string listener TypeVoidFunction &lt;optional&gt; noop context * &lt;optional&gt; Inherited From: EventEmitter#once Overrides: EventEmitter#once Source: event/EventEmitter.ts, line 125 Returns: Type EventEmitter Events VISIBILITY_EVENTS VisibilityChange Event Types Properties: Name Type Description CHANGE String 변경 시점 GET_STATUS String 현재 상태값 체크 Source: observer/VisibilityChangeObserver.ts, line 50 × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>

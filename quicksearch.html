<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"browser_types.ts.html":{"id":"browser_types.ts.html","title":"Source: browser/types.ts","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Source: browser/types.ts /** * @typedef {String} BROWSER_AGENTS * @alias BROWSER_AGENTS * @memberof module:browser * @property {String} AOS - user agent pattern * @property {String} IOS - user agent pattern */ // for jsdoc /** * @export * @readonly * @enum {BROWSER_AGENTS} */ export enum BROWSER_AGENTS { AOS = 'Android(\\\\s)([0-9]+)?\\\\.?([0-9]+)\\\\.?([0-9]+)?', IOS = 'iP[honeaod;]+(\\\\sCPU)?\\\\sOS\\\\s(\\\\d+)\\\\_?(\\\\d)\\\\_?(\\\\d)?' } /** * @memberof module:browser * @alias IBrowserAgents * @interface * @property {String} AOS - aos * @property {String} IOS - ios */ export interface IBrowserAgents { AOS: string; IOS: string; } /** * @memberof module:browser * @alias IAgentType * @interface * @property {String | Null} type * @property {String} version */ export interface IAgentType { type: string | null; version: string; } /** * @memberof module:browser * @alias IBrowserType * @extends {IAgentType} * @interface * @property {String | Null} type * @property {String} version */ // tslint:disable-next-line: no-empty-interface export interface IBrowserType extends IAgentType {} /** * IVendorPrefix * @memberof module:browser * @typedef * @property - dom 기준, prefix * @property - 소문자로 반환 * @property - css 기준, prefix * @property - js 기준, prefix */ export interface IVendorPrefix { dom: string; lowercase: string; css: string; js: string; } × Search results Close "},"observer_types.ts.html":{"id":"observer_types.ts.html","title":"Source: observer/types.ts","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Source: observer/types.ts import { TypeVoidFunction } from '../types/voidFunction'; import { INTERSECTION_DIRECTIONS } from './IntersectionObserver'; /** * pure MutationObserver init options * @memberof MutationObserver * @alias IMutationObserverInit * @interface * @property {Boolean} [childList] - target 의 하위 요소 추가 / 삭제 감지 유무 * @property {Boolean} [attributes] - target 의 속성 변경 감지 유무 * @property {Boolean} [characterData] - target 의 데이터 변경 감지 유무 * @property {Boolean} [subtree] - target 의 하위 요소 변경 사항 감지 유무 * @property {Boolean} [attributeOldValue] - attributeOldValue TBD * @property {Boolean} [characterDataOldValue] - TBD * @property {Array.&lt;String&gt;} [attributeFilter] - TBD [MDN attributeFilter]{@link https://developer.mozilla.org/en-US/docs/Web/API/MutationObserverInit/attributeFilter} * @see https://developer.mozilla.org/ko/docs/Web/API/MutationObserver#MutationObserverInit */ export interface IMutationObserverInit { childList?: boolean; attributes?: boolean; characterData?: boolean; subtree?: boolean; attributeOldValue?: boolean; characterDataOldValue?: boolean; attributeFilter?: string[]; }; /** * MutationObserver init options * @memberof MutationObserver * @alias IMutationObserverExtOption * @interface * @property {HTMLElement} target - 감지할 element * @property {Number} [debounce] - 이벤트 debounce 값 * @property {TypeVoidFunction} [callback] - 이벤트 callback * @property {IMutationObserverInit} [options] - 세부 MutationObserver options */ export interface IMutationObserverExtOption { target: HTMLElement; debounce?: number; callback?: TypeVoidFunction; options?: IMutationObserverInit; }; /** * Visibility Status 반환 규격 * @memberof VisibilityChangeObserver * @alias IVisibilityStatus * @interface * @property {Boolean} hidden - hidden 상태 유무 * @property {Boolean} show - show 상태 유무 * @see VisibilityChangeObserver#getStatus */ export interface IVisibilityStatus { isHidden: boolean; isShow: boolean; }; /** * @typedef IntersectionObserverInit * @alias IntersectionObserverInit * @property {Element | null} [root] * @property {String} [rootMargin] * @property {Number | Number[]} [threshold] */ // for jsdoc /** * @typedef IntersectionObserverEntry * @alias IntersectionObserverEntry * @property {DOMRectReadOnly} boundingClientRect * @property {Number} intersectionRatio * @property {DOMRectReadOnly} intersectionRect * @property {Boolean} isIntersecting * @property {DOMRectReadOnly | null} rootBounds * @property {Element} target * @property {Number} time */ // for jsdoc /** * @callback callback * @param {IIntersectionChangeData} changeData */ // for jsdoc /** * IntersectionObserver init options * @memberof IntersectionObserver * @alias IIntersectionObserverExtOption * @interface * @property {Element} target - 감지할 element * @property {Number} [visibleRatio] - 이벤트 visibleRatio 값 * @property {Number} [throttle] - 이벤트 throttle 값 * @property {callback} [callback] - 이벤트 callback * @property {IntersectionObserverInit} [options] - 세부 IntersectionObserver options * @see https://developer.mozilla.org/ko/docs/Web/API/IntersectionObserver/IntersectionObserver#%EB%A7%A4%EA%B0%9C%EB%B3%80%EC%88%98 */ export interface IIntersectionObserverExtOption { target: Element; visibleRatio?: number; throttle?: number; callback?: (changeData: IIntersectionChangeData) =&gt; void; options?: IntersectionObserverInit; }; /** * IntersectionObserver ChangeData * @memberof IntersectionObserver * @alias IIntersectionChangeData * @interface * @property {Element} currentTarget * @property {IntersectionObserverEntry} entry * @property {Number} intersectionRatio * @property {Boolean} isVisible * @property {INTERSECTION_DIRECTIONS} direction */ export interface IIntersectionChangeData { currentTarget: Element; entry: IntersectionObserverEntry; intersectionRatio: number; isVisible: boolean; direction: INTERSECTION_DIRECTIONS; }; /** * PrefersColorSchemeStatus * @memberof PrefersColorSchemeObserver * @alias IPrefersColorSchemeStatus * @interface * @property {Boolean} isDark * @property {Boolean} isLight */ export interface IPrefersColorSchemeStatus { isDark: boolean; isLight: boolean; }; × Search results Close "},"event_index.ts.html":{"id":"event_index.ts.html","title":"Source: event/index.ts","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Source: event/index.ts /** * @alias event */ export * from './EventEmitter'; export * from './types'; × Search results Close "},"event_EventEmitter.ts.html":{"id":"event_EventEmitter.ts.html","title":"Source: event/EventEmitter.ts","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Source: event/EventEmitter.ts import { TypeVoidFunction } from '../types/voidFunction'; import { noop } from '../functions'; import { IEvent } from './types'; /** * EventEmitter 의 기능과 동일한 맥락으로, 간단히 구성 &lt;iframe src=\"https://codesandbox.io/embed/nonollcode-snippet-9gko8?autoresize=1&amp;expanddevtools=1&amp;fontsize=14&amp;hidenavigation=1&amp;initialpath=%2Fevent-EventEmitter.html&amp;module=%2Fevent-EventEmitter.html&amp;theme=dark\" style=\"width:100%; height:500px; border:1px solid black; border-radius: 4px; overflow:hidden;\" title=\"@nonoll/code-snippet\" allow=\"geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\" &gt;&lt;/iframe&gt; * @export * @class EventEmitter * @alias event/EventEmitter * @memberof event * @see https://www.npmjs.com/package/events * @example import { EventEmitter } from '@nonoll/code-snippet/event'; const createElement = ({ tag = 'div', id = '', style = '', value = '', text = '' }) =&gt; { const doc = window.document; const target = doc.createElement(tag); target.setAttribute('id', id); target.setAttribute('style', style); target.setAttribute('value', value); if (text) { target.textContent = text; } return target; } let ee; const forExample = () =&gt; { const doc = window.document; const onButton = createElement({ tag: 'button', text: 'on button' }); const offButton = createElement({ tag: 'button', text: 'off button' }); const emitButton = createElement({ tag: 'button', text: 'emit button' }); const EVENT_NAME = 'EVENT_EXAMPLE'; doc.body.appendChild(onButton); doc.body.appendChild(offButton); doc.body.appendChild(emitButton); ee = new EventEmitter(); ee.on(EVENT_NAME, res =&gt; console.log(res)); onButton.addEventListener('click', e =&gt; { e.preventDefault(); console.log('onButton clicked'); if (!ee) { return; } ee.off(EVENT_NAME); ee.on(EVENT_NAME, res =&gt; console.log(res)); }); offButton.addEventListener('click', e =&gt; { e.preventDefault(); console.log('offButton clicked'); if (!ee) { return; } ee.off(EVENT_NAME); }); emitButton.addEventListener('click', e =&gt; { e.preventDefault(); console.log('emitButton clicked'); if (!ee) { return; } ee.emit(EVENT_NAME, new Date()); }); } forExample(); */ export class EventEmitter { private events: Array&lt;IEvent&gt; = []; constructor() {} /** * 이벤트 감지 등록 * @param {string} eventName * @param {TypeVoidFunction} [listener={@link noop}] * @param {*} [context] * @returns {EventEmitter} * @memberof EventEmitter */ on(eventName: string, /* istanbul ignore next: for noop */ listener: TypeVoidFunction = noop, context?: any): EventEmitter { this.events.push({ eventName, listener, context }); return this; } /** * 이벤트 감지 해제 * @param {string} eventName * @param {TypeVoidFunction} [listener] * @returns {EventEmitter} * @memberof EventEmitter */ off(eventName: string, listener?: TypeVoidFunction): EventEmitter | false { // tslint:disable-next-line: max-line-length const matched = this.events.findIndex(regEvent =&gt; regEvent.eventName === eventName &amp;&amp; (listener ? regEvent.listener === listener : true)); // tslint:disable-next-line: no-bitwise if (!~matched) { return false; } this.events.splice(matched, 1); return this; } /** * 이벤트 1회 감지 등록 * @param {string} eventName * @param {TypeVoidFunction} [listener={@link noop}] * @param {*} [context] * @returns {EventEmitter} * @memberof EventEmitter */ once(eventName: string, /* istanbul ignore next: for noop */ listener: TypeVoidFunction = noop, context?: any): EventEmitter { const onceWrapper = (...values: any) =&gt; { this.off(eventName, onceWrapper); listener.apply(context || listener, values); }; this.on(eventName, onceWrapper, context); return this; } /** * 이벤트 전파 * @param {string} eventName * @param {...any[]} values * @returns {EventEmitter} * @memberof EventEmitter */ emit(eventName: string, ...values: any[]): EventEmitter { this.events.forEach(regEvent =&gt; { if (regEvent.eventName === eventName) { regEvent.listener.apply(regEvent.context || regEvent.listener, values); } }); return this; } /** * 이벤트 전파 * @param {string} eventName * @param {any} values * @returns {EventEmitter} * @memberof EventEmitter */ fire(eventName: string, values: any): EventEmitter { this.emit(eventName, values); return this; } } × Search results Close "},"event_types.ts.html":{"id":"event_types.ts.html","title":"Source: event/types.ts","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Source: event/types.ts import { TypeVoidFunction } from '../types/voidFunction'; /** * Event Interface * @alias IEvent * @interface * @property {String} eventName - 이벤트 명 * @property {TypeVoidFunction} [listener] - listener function * @property {any} [context] - context */ export interface IEvent { eventName: string; listener?: TypeVoidFunction; context?: any; }; × Search results Close "},"observer_IntersectionObserver.ts.html":{"id":"observer_IntersectionObserver.ts.html","title":"Source: observer/IntersectionObserver.ts","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Source: observer/IntersectionObserver.ts import { EventEmitter } from '../event'; import { throttle as _throttle, noop } from '../functions'; import { IIntersectionObserverExtOption, IIntersectionChangeData } from './types'; const defaultThresholdList = new Array(101).fill(0).map((_, v) =&gt; v / 100); /** * IntersectionEvent Types * @event IntersectionObserver#INTERSECTION_EVENTS * @memberof IntersectionObserver * @property {String} CHANGE - 변경 시점 */ // for jsdoc /** * @export * @readonly * @enum {INTERSECTION_EVENTS} */ export const INTERSECTION_EVENTS = { CHANGE: 'INTERSECTION_OBSERVER-EVENTS-CHANGE' }; /** * @typedef {String} INTERSECTION_DIRECTIONS * @alias INTERSECTION_DIRECTIONS * @memberof IntersectionObserver * @property {String} UP * @property {String} DOWN * @property {String} UNKNOWN */ // for jsdoc /** * @export * @readonly * @enum {INTERSECTION_DIRECTIONS} */ export enum INTERSECTION_DIRECTIONS { UP = 'INTERSECTION_OBSERVER-DIRECTIONS-UP', DOWN = 'INTERSECTION_OBSERVER-DIRECTIONS-DOWN', UNKNOWN = 'INTERSECTION_OBSERVER-DIRECTIONS-UNKNOWN' }; export class ExtIntersectionObserverEntry { private options: Partial&lt;IntersectionObserverInit&gt;; private target: Element; private visibleRatio: number; constructor(initParams: Partial&lt;IIntersectionObserverExtOption&gt;) { const { target, visibleRatio = 0, options = {} } = initParams; /* istanbul ignore next: for not support error */ if (!target) { throw new Error('IntersectionObserver target 설정은 필수 값 입니다.'); } const defParams = { root: null, rootMargin: '0px', threshold: defaultThresholdList }; this.target = target; this.visibleRatio = visibleRatio; this.options = Object.assign({}, defParams, options); } private checkForIntersections(target: Element, options: IntersectionObserverInit): IntersectionObserverEntry { const { root, rootMargin } = options; const rootMarginValues = this.parseRootMargin(rootMargin); const rootIsInDom = this.rootIsInDom(root); const rootRect = rootIsInDom ? this.getRootRect(root, rootMarginValues) : this.getEmptyRect(); const boundingClientRect = this.getBoundingClientRect(target); const rootContainsTarget = this.rootContainsTarget(root, target); const intersectionRect = rootIsInDom &amp;&amp; rootContainsTarget &amp;&amp; this.computeTargetAndRootIntersection(target, rootRect, root); const isIntersecting = !!intersectionRect; const targetArea = boundingClientRect.width * boundingClientRect.height; let intersectionRatio = 0; if (targetArea) { const rect = intersectionRect || this.getEmptyRect(); const intersectionArea = rect.width * rect.height intersectionRatio = Number((intersectionArea / targetArea).toFixed(4)); } else { intersectionRatio = isIntersecting ? 1 : 0; } return { boundingClientRect, intersectionRatio, intersectionRect: intersectionRect || this.getEmptyRect(), isIntersecting, rootBounds: rootRect as DOMRectReadOnly | null, target, time: window.performance &amp;&amp; performance.now &amp;&amp; performance.now() } as IntersectionObserverEntry; } private computeTargetAndRootIntersection(target = null, rootRect = null, root = null) { if (window.getComputedStyle(target).display === 'none') { return false; } const targetRect = this.getBoundingClientRect(target); let intersectionRect: Partial&lt;DOMRect&gt; = targetRect; let parent = this.getParentNode(target); let atRoot = false; while (!atRoot) { let parentRect = null; const parentComputedStyle = (parent.nodeType === 1 ? window.getComputedStyle(parent) : {}) as CSSStyleDeclaration; if (parentComputedStyle.display === 'none') { return; } if (parent === root) { atRoot = true; parentRect = rootRect; } else { if ( parent !== document.body &amp;&amp; parent !== document.documentElement &amp;&amp; parentComputedStyle.overflow !== 'visible' ) { parentRect = this.getBoundingClientRect(parent); } } if (parentRect) { intersectionRect = this.computeRectIntersection(parentRect, intersectionRect) if (!intersectionRect) { break; } } parent = this.getParentNode(parent); } return intersectionRect; } private computeRectIntersection(rect1: Partial&lt;DOMRect&gt;, rect2: Partial&lt;DOMRect&gt;): Partial&lt;DOMRect&gt; { const top = Math.max(rect1.top, rect2.top); const bottom = Math.min(rect1.bottom, rect2.bottom); const left = Math.max(rect1.left, rect2.left); const right = Math.min(rect1.right, rect2.right); const width = right - left; const height = bottom - top; const values = { top, bottom, left, right, width, height }; return (width &gt;= 0 &amp;&amp; height &gt;= 0) &amp;&amp; values; } private parseRootMargin(rootMargin: string = '0px'): Array&lt;{ value: number, unit: string }&gt; { const margins = rootMargin.split(/\\s+/).map((margin) =&gt; { const parts = /^(-?\\d*\\.?\\d+)(px|%)$/.exec(margin); if (!parts) { throw new Error('rootMargin must be specified in pixels or percent'); } return { value: window.parseFloat(parts[1]), unit: parts[2] }; }); margins[1] = margins[1] || margins[0]; margins[2] = margins[2] || margins[0]; margins[3] = margins[3] || margins[1]; return margins; } private rootIsInDom(root: Element | null) { return root || this.containsDeep(window.document, root); } private rootContainsTarget(root: Element | null, target: Element) { return this.containsDeep(root || window.document, target); } private containsDeep(parent: Document | Element, child: Element) { let node = child; while (node) { if (node === parent) { return true; } node = this.getParentNode(node); } return false; } private getParentNode(node: Element): Element { const parent = node.parentNode; if (parent &amp;&amp; parent.nodeType === 11 &amp;&amp; (parent as ShadowRoot).host) { // If the parent is a shadow root, return the host element. return (parent as ShadowRoot).host; } return parent as Element; } private getRootRect(root: Element | null, rootMargin = []): DOMRect { let rootRect; if (root) { rootRect = this.getBoundingClientRect(root); } else { // Use &lt;html&gt;/&lt;body&gt; instead of window since scroll bars affect size. const html = window.document.documentElement; const body = window.document.body; rootRect = { top: 0, left: 0, right: html.clientWidth || body.clientWidth, width: html.clientWidth || body.clientWidth, bottom: html.clientHeight || body.clientHeight, height: html.clientHeight || body.clientHeight }; } return this.expandRectByRootMargin(rootRect, rootMargin); } private getBoundingClientRect(el: Element): DOMRect | null { let rect = null; try { rect = el.getBoundingClientRect(); } catch (err) { // Ignore Windows 7 IE11 \"Unspecified error\" // https://github.com/w3c/IntersectionObserver/pull/205 } if (!rect) { return this.getEmptyRect(); } return rect; } private getEmptyRect(): DOMRect { const emptyRect = { bottom: 0, height: 0, left: 0, right: 0, top: 0, width: 0, x: 0, y: 0 } return { ...emptyRect, toJSON: () =&gt; emptyRect }; } private expandRectByRootMargin(rect: DOMRect, rootMargin = []): DOMRect { const [mt, mr, mb, ml] = rootMargin.map((margin, i) =&gt; { return margin.unit === 'px' ? margin.value : (margin.value * (i % 2 ? rect.width : rect.height)) / 100; }); const { top, right, bottom, left } = rect; const newRect = { top: top - mt, right: right + mr, bottom: bottom + mb, left: left - ml, x: 0, y: 0, width: 0, height: 0 }; newRect.x = newRect.left; newRect.y = newRect.top; newRect.width = newRect.right - newRect.left; newRect.height = newRect.bottom - newRect.top; return { ...newRect, toJSON: () =&gt; newRect }; } getChangeData(): IIntersectionChangeData { const entry = this.checkForIntersections(this.target, this.options); const intersectionRatio = Math.floor(entry.intersectionRatio * 100); const isVisible = entry.intersectionRatio &gt; this.visibleRatio; return { currentTarget: this.target, entry, intersectionRatio, isVisible, direction: INTERSECTION_DIRECTIONS.UNKNOWN } } } class PureIntersectionObserver { private pure: any; constructor(callback: IntersectionObserverCallback, options: IntersectionObserverInit) { // TODO polyfill // https://www.npmjs.com/package/intersection-observer // const IntersectionObserver = require('intersection-observer'); // this.pure = new IntersectionObserver(callback); this.pure = new (window as any).IntersectionObserver(callback, options); } public observe(target: Element | any, options: IntersectionObserverInit): void { this.pure.observe(target, options); } public disconnect(): void { this.pure.disconnect(); } } /** * element 가 viewport 영역에 노출되는지 변화를 감지 * @export * @class IntersectionObserver * @alias observer/IntersectionObserver * @extends {EventEmitter} * @see https://developer.mozilla.org/ko/docs/Web/API/IntersectionObserver/IntersectionObserver * @see https://caniuse.com/#search=IntersectionObserver * @throws {Error} target 옵션을 지정하지 않은 경우 - throw new Error('IntersectionObserver target 설정은 필수 값 입니다.'); * @param {Partial&lt;IIntersectionObserverExtOption&gt;} initParams * @param {Element} initParams.target * @param {Number} [initParams.visibleRatio=0] * @param {Number} [initParams.throttle=300] * @param {Function|null} [initParams.callback={@link noop}] callback function * @param {IntersectionObserverInit} [initParams.options={}] * @example .. TODO */ export class IntersectionObserver extends EventEmitter { private observer: PureIntersectionObserver; private options: Partial&lt;IntersectionObserverInit&gt;; private target: Element; private visibleRatio: number; private prevRatio: number; constructor(initParams: Partial&lt;IIntersectionObserverExtOption&gt;) { super(); const { target, visibleRatio = 0, throttle = 300, callback = noop, options = {} } = initParams; /* istanbul ignore next: for not support error */ if (!target) { throw new Error('IntersectionObserver target 설정은 필수 값 입니다.'); } const defParams = { root: null, rootMargin: '0px', threshold: defaultThresholdList }; this.target = target; this.visibleRatio = visibleRatio; this.prevRatio = 0; this.onIntersectionCallback = callback; this.onIntersectionListener = this.onIntersectionListener.bind(this); this.options = Object.assign({}, defParams, options); if (throttle) { this.observer = new PureIntersectionObserver(_throttle(this.onIntersectionListener, throttle), this.options); } else { this.observer = new PureIntersectionObserver(this.onIntersectionListener, this.options); } } /** * element 가 이미 노출된 경우 등, IntersectionObserver 등록으로 판단이 어려울 경우&lt;br&gt; * IntersectionObserver.getIntersectionEntry 를 이용하여 target 의 노출 여부를 판단 * @static * @param {Partial&lt;IIntersectionObserverExtOption&gt;} initParams * @param {Element} initParams.target * @param {Number} [initParams.visibleRatio=0] * @param {Number} [initParams.throttle=300] * @param {Function|null} [initParams.callback={@link noop}] callback function * @param {IntersectionObserverInit} [initParams.options={}] * @returns {IIntersectionChangeData} * @memberof IntersectionObserver * @example .. TODO */ static getIntersectionEntry(initParams: Partial&lt;IIntersectionObserverExtOption&gt;): IIntersectionChangeData { return new ExtIntersectionObserverEntry(initParams).getChangeData(); } private onIntersectionCallback = (changeData: IIntersectionChangeData) =&gt; {}; /** * 변화 감지 이벤트 리스너 * @private * @param {IntersectionObserverEntry[]} entries * [MDN IntersectionObserverEntry]{@link https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserverEntry} * @memberof IntersectionObserver * @fires IntersectionObserver#INTERSECTION_EVENTS */ private onIntersectionListener(entries: IntersectionObserverEntry[]): void { const entry: IntersectionObserverEntry = entries[0]; const { intersectionRatio } = entry; const isVisible = intersectionRatio &gt; this.visibleRatio; const direction = this.prevRatio &gt; intersectionRatio ? INTERSECTION_DIRECTIONS.DOWN : INTERSECTION_DIRECTIONS.UP const changeData: IIntersectionChangeData = { currentTarget: this.target, entry, intersectionRatio: Math.floor(intersectionRatio * 100), isVisible, direction }; this.emit(INTERSECTION_EVENTS.CHANGE, changeData); this.onIntersectionCallback(changeData); this.prevRatio = intersectionRatio; } /** * 이벤트 감지 설정 * @returns {IntersectionObserver} * @memberof IntersectionObserver */ public attach(): IntersectionObserver { this.observer.observe(this.target, this.options); return this; } /** * 이벤트 감지 해제 * @returns {IntersectionObserver} * @memberof IntersectionObserver */ public detach(): IntersectionObserver { this.observer.disconnect(); return this; } /** * destroy * @returns {IntersectionObserver} * @memberof IntersectionObserver */ public destroy(): IntersectionObserver { this.detach(); this.observer = null; return this; } } × Search results Close "},"browser_isSupportPassive.ts.html":{"id":"browser_isSupportPassive.ts.html","title":"Source: browser/isSupportPassive.ts","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Source: browser/isSupportPassive.ts /** * @interface IPassive * @property {Boolean} passive - passive 지원 유무 * @see https://developers.google.com/web/tools/lighthouse/audits/passive-event-listeners?hl=ko */ interface IPassive { passive: boolean; } /** * passive 옵션 지원 유무 반환 * @memberof module:browser * @function * @return {Boolean} * @see https://github.com/WICG/EventListenerOptions/pull/30 * @see https://github.com/cubiq/iscroll/blob/master/demos/demoUtils.js#L2-L12 * @see https://developers.google.com/web/tools/lighthouse/audits/passive-event-listeners?hl=ko * @example import { isSupportPassive } from '@nonoll/code-snippet/browser'; console.log(isSupportPassive()); // true or false */ /* istanbul ignore next */ export const isSupportPassive = (): boolean =&gt; { let supportPassiveOption = false; try { const options = Object.defineProperty({}, 'passive', { get: () =&gt; supportPassiveOption = true }); addEventListener('test_passive_option', null, options); } catch (e) {} return supportPassiveOption; }; /** * 실행된 browser 에서 지원하는 passive 옵션 값 반환 * @memberof module:browser * @function * @return {(IPassive|Boolean)} * @see https://developers.google.com/web/tools/lighthouse/audits/passive-event-listeners?hl=ko * @example import { getPassiveOption } from '@nonoll/code-snippet/browser'; console.log(getPassiveOption()); // IPassive or false */ export const getPassiveOption = (): IPassive | boolean =&gt; isSupportPassive() ? { passive: true } : /* istanbul ignore next */ false; × Search results Close "},"math_types.ts.html":{"id":"math_types.ts.html","title":"Source: math/types.ts","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Source: math/types.ts /** * ratio 파라미터 규격 * @alias IRatioParams * @interface * @property {Number} width * @property {Number} height */ export interface IRatioParams { width: number; height: number; }; /** * ratio 반환 규격 * @alias IRatio * @interface * @extends IRatioParams * @property {Number} width * @property {Number} height * @property {String} ratio - 비율 정보 */ export interface IRatio extends IRatioParams { ratio: string; }; × Search results Close "},"browser_index.ts.html":{"id":"browser_index.ts.html","title":"Source: browser/index.ts","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Source: browser/index.ts /** * @module module:browser */ export * from './isAOS'; export * from './isCHROME'; export * from './isIOS'; export * from './isSupportPassive'; export * from './uaParser'; export * from './vendorPrefix'; × Search results Close "},"browser_uaParser.ts.html":{"id":"browser_uaParser.ts.html","title":"Source: browser/uaParser.ts","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Source: browser/uaParser.ts import { IBrowserAgents, IBrowserType, BROWSER_AGENTS } from './types'; /** * uaParser * @template T, R * @memberof module:browser * @function * @param {T} parsingType parsing 타입 * @param {Number} [start=1] version slice - start index * @param {Number} [end=1] version slice - end index * @param {String} [ua=window.navigator.userAgent] * @returns {R} * @example import { uaParser, IBrowserType } from '@nonoll/code-snippet/browser'; const iosChromeParser = (): IBrowserType =&gt; { return uaParser&lt;{CHROME: string}, IBrowserType&gt;({CHROME: 'CriOS\\/([0-9]+)?\\\\.?([0-9]+)\\\\.?([0-9]+)\\\\.?([0-9]+)?'}, 1, 6); }; console.log(iosChromeParser()); // { type, version } */ export const uaParser = &lt;T = unknown, R = unknown&gt;(parsingType: T, start = 1, end = 4, ua = window.navigator.userAgent): R =&gt; { const matched = (Object.entries(parsingType) .map((values: [string, unknown]) =&gt; { const [type, pattern] = values; // tslint:disable-next-line: no-shadowed-variable const matched = ua.match(new RegExp(pattern as string, 'i')); if (!matched) { return null; } const version = matched .slice(start, end) .map(v =&gt; v || 0) .join('.'); return { type, version }; }) .filter(v =&gt; v)[0] as unknown) as R; if (matched) { return { ...matched } as R; } else { return ({ type: null, version: '' } as unknown) as R; } }; /** * AOS, IOS - type, version 정보 반환 * @memberof module:browser * @function * @returns {IBrowserType} * @example import { browserType } from '@nonoll/code-snippet/browser'; console.log(browserType()); // { type, version } */ export const browserType = (): IBrowserType =&gt; uaParser&lt;IBrowserAgents, IBrowserType&gt;(BROWSER_AGENTS, 2, 5); × Search results Close "},"browser_isAOS.ts.html":{"id":"browser_isAOS.ts.html","title":"Source: browser/isAOS.ts","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Source: browser/isAOS.ts /** * browser - AOS 유무 반환 * @memberof module:browser * @function * @return {Boolean} * @example import { isAOS } from '@nonoll/code-snippet/browser'; console.log(isAOS()); // true or false */ export const isAOS = (): boolean =&gt; { return /Android/.test(window.navigator.userAgent); }; × Search results Close "},"browser_isCHROME.ts.html":{"id":"browser_isCHROME.ts.html","title":"Source: browser/isCHROME.ts","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Source: browser/isCHROME.ts /** * browser - CHROME 유무 반환 * @memberof module:browser * @function * @return {Boolean} * @example import { isCHROME } from '@nonoll/code-snippet/browser'; console.log(isCHROME()); // true or false */ export const isCHROME = (): boolean =&gt; { return (/chrome|crios/i).test(window.navigator.userAgent); }; × Search results Close "},"browser_isIOS.ts.html":{"id":"browser_isIOS.ts.html","title":"Source: browser/isIOS.ts","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Source: browser/isIOS.ts /** * browser - IOS 유무 반환 * @memberof module:browser * @function * @return {Boolean} * @example import { isIOS } from '@nonoll/code-snippet/browser'; console.log(isIOS()); // true or false */ export const isIOS = (): boolean =&gt; { return /iP[honeaod;]/.test(window.navigator.userAgent); }; × Search results Close "},"browser_vendorPrefix.ts.html":{"id":"browser_vendorPrefix.ts.html","title":"Source: browser/vendorPrefix.ts","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Source: browser/vendorPrefix.ts import { IVendorPrefix } from './types'; /** * browser - vendorPrefix 반환 * @memberof module:browser * @see https://davidwalsh.name/vendor-prefix * @function * @return {IVendorPrefix} * @example import { vendorPrefix } from '@nonoll/code-snippet/browser'; console.log(vendorPrefix()); // {dom: \"Webkit\", lowercase: \"webkit\", css: \"-webkit-\", js: \"Webkit\"} */ export const vendorPrefix = (): IVendorPrefix =&gt; { const styles = window.getComputedStyle(window.document.documentElement, ''); // tslint:disable-next-line: max-line-length const pre = (Array.from(styles).join('').match(/-(moz|webkit|ms)-/) || /* istanbul ignore next */ ((styles as any).OLink === '' &amp;&amp; ['', 'o']))[1]; const dom = ('Webkit|Moz|MS|O').match(new RegExp(`(${pre})`, 'i'))[1]; return { dom, lowercase: pre, css: `-${pre}-`, js: pre[0].toUpperCase() + pre.substr(1) }; }; × Search results Close "},"functions_index.ts.html":{"id":"functions_index.ts.html","title":"Source: functions/index.ts","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Source: functions/index.ts /** * @module module:functions */ export * from './debounce'; export * from './deepFreeze'; export * from './noop'; export * from './throttle'; × Search results Close "},"functions_debounce.ts.html":{"id":"functions_debounce.ts.html","title":"Source: functions/debounce.ts","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Source: functions/debounce.ts import { TypeVoidFunction } from '../types'; /** * debounce &lt;iframe src=\"https://codesandbox.io/embed/nonollcode-snippet-9gko8?autoresize=1&amp;expanddevtools=1&amp;fontsize=14&amp;hidenavigation=1&amp;initialpath=%2Ffunctions-debounce.html&amp;module=%2Ffunctions-debounce.html&amp;theme=dark\" style=\"width:100%; height:500px; border:1px solid black; border-radius: 4px; overflow:hidden;\" title=\"@nonoll/code-snippet\" allow=\"geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\" &gt;&lt;/iframe&gt; * @memberof module:functions * @function * @see https://css-tricks.com/debouncing-throttling-explained-examples/ * @param {TypeVoidFunction} fn * @param {Number} [delay=0] * @returns {TypeVoidFunction} * @example import { debounce } from '@nonoll/code-snippet/functions'; const forExample = () =&gt; { const delay = 1000 * 1; const listener = debounce(res =&gt; console.log(res), delay); listener('1'); listener('2'); listener('3'); listener(`4 ${new Date()}`); setTimeout(() =&gt; { listener(`5 ${new Date()}`); }, delay); } forExample(); */ export const debounce = (fn: TypeVoidFunction, /* istanbul ignore next */ delay: number = 0): TypeVoidFunction =&gt; { let timer; return (...args: any[]) =&gt; { window.clearTimeout(timer); timer = window.setTimeout(() =&gt; { fn.apply(null, args); }, delay); }; }; × Search results Close "},"functions_deepFreeze.ts.html":{"id":"functions_deepFreeze.ts.html","title":"Source: functions/deepFreeze.ts","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Source: functions/deepFreeze.ts /** * deepFreeze * @param {any} target * @memberof module:functions * @function */ export const deepFreeze = (target: any): any | Error =&gt; { if (Object.isFrozen(target)) { return target; } if (!Array.isArray(target) &amp;&amp; Object.getPrototypeOf(target) !== Object.getPrototypeOf({})) { if (Object.getPrototypeOf(target) !== Object.getPrototypeOf(Function)) { throw new Error('not allow types'); } } Object.freeze(target); Object.keys(target).forEach(key =&gt; deepFreeze(target[key])); return target; }; × Search results Close "},"functions_throttle.ts.html":{"id":"functions_throttle.ts.html","title":"Source: functions/throttle.ts","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Source: functions/throttle.ts import { TypeVoidFunction } from '../types'; /** * throttle &lt;iframe src=\"https://codesandbox.io/embed/nonollcode-snippet-9gko8?autoresize=1&amp;expanddevtools=1&amp;fontsize=14&amp;hidenavigation=1&amp;initialpath=%2Ffunctions-throttle.html&amp;module=%2Ffunctions-throttle.html&amp;theme=dark\" style=\"width:100%; height:500px; border:1px solid black; border-radius: 4px; overflow:hidden;\" title=\"@nonoll/code-snippet\" allow=\"geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\" &gt;&lt;/iframe&gt; * @memberof module:functions * @function * @see https://css-tricks.com/debouncing-throttling-explained-examples/ * @param {TypeVoidFunction} fn * @param {Number} [delay=0] * @returns {TypeVoidFunction} * @example import { debounce } from '@nonoll/code-snippet/functions'; const forExample = () =&gt; { const delay = 1000 * 1; const listener = throttle(res =&gt; console.log(res), delay); listener(`1 ${new Date()}`); listener('2'); listener('3'); listener('4'); setTimeout(() =&gt; { listener(`5 ${new Date()}`); }, delay); } forExample(); */ export const throttle = (fn: TypeVoidFunction, /* istanbul ignore next */ delay: number = 0): TypeVoidFunction =&gt; { const caller = (args: any[]) =&gt; { fn.apply(null, args); base = +new Date(); }; let base = null; let isLeading = true; let stamp = null; return (...args: any[]) =&gt; { if (isLeading) { caller(args); isLeading = false; return; } stamp = +new Date(); /* istanbul ignore next */ base = base || stamp; if ((stamp - base) &gt;= delay) { /* istanbul ignore next */ caller(args); } }; }; × Search results Close "},"math_index.ts.html":{"id":"math_index.ts.html","title":"Source: math/index.ts","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Source: math/index.ts /** * @module module:math */ export * from './gcd'; export * from './lcm'; export * from './sizePercentRatio'; export * from './sizeRatio'; export * from './types'; × Search results Close "},"math_gcd.ts.html":{"id":"math_gcd.ts.html","title":"Source: math/gcd.ts","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Source: math/gcd.ts /** * 최대 공약수(greatest common divisor) 반환 * @memberof module:math * @function * @param {Number} a * @param {Number} b * @returns {Number} */ export const gcd = (a: number, b: number): number =&gt; { if (!b) { return a; } return gcd(b, a % b); }; × Search results Close "},"math_lcm.ts.html":{"id":"math_lcm.ts.html","title":"Source: math/lcm.ts","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Source: math/lcm.ts import { gcd } from './gcd'; /** * 최소 공배수(least common multiple) 반환 * @memberof module:math * @function * @param {Number} a * @param {Number} b * @returns {Number} */ export const lcm = (a: number, b: number): number =&gt; { return a * b / gcd(a, b); }; × Search results Close "},"math_sizePercentRatio.ts.html":{"id":"math_sizePercentRatio.ts.html","title":"Source: math/sizePercentRatio.ts","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Source: math/sizePercentRatio.ts import { IRatioParams, IRatio } from './types'; /** * width : height 로 css padding-top 비율(%) 반환&lt;br/&gt; * css padding에 의한 비율 계산이 필요할 경우 사용 * @memberof module:math * @function * @param {Number} width * @param {Number} height * @returns {IRatio} */ export const sizePercentRatio = ({ width, height }: IRatioParams): IRatio =&gt; { const w = Math.round(width); const h = Math.round(height); const ratio = { width: w, height: h, ratio: ((height / width) * 100).toFixed(2) }; return ratio; }; × Search results Close "},"math_sizeRatio.ts.html":{"id":"math_sizeRatio.ts.html","title":"Source: math/sizeRatio.ts","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Source: math/sizeRatio.ts import { IRatioParams, IRatio } from './types'; import { gcd } from './gcd'; /** * width : height 비율 반환 * @memberof module:math * @function * @param {Number} width * @param {Number} height * @returns {IRatio} */ export const sizeRatio = ({ width, height }: IRatioParams): IRatio =&gt; { const gcdValue = gcd(width, height); const w = width / gcdValue; const h = height / gcdValue; const ratio = { width: w, height: h, ratio: `${w}x${h}` }; return ratio; }; × Search results Close "},"types_index.ts.html":{"id":"types_index.ts.html","title":"Source: types/index.ts","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Source: types/index.ts /** * @module types */ export * from './voidFunction'; × Search results Close "},"observer_MutationObserver.ts.html":{"id":"observer_MutationObserver.ts.html","title":"Source: observer/MutationObserver.ts","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Source: observer/MutationObserver.ts import { TypeVoidFunction } from '../types/voidFunction'; import { EventEmitter } from '../event'; import { debounce as _debounce, noop } from '../functions'; import { IMutationObserverExtOption } from './types'; /** * @typedef {String} MutationRecordType * @alias MutationRecordType * @memberof MutationObserver * @see https://developer.mozilla.org/ko/docs/Web/API/MutationObserver#MutationObserverInit * @property {String} childList * @property {String} attributes * @property {String} characterData * @property {String} subtree */ // for jsdoc /** * @export * @readonly * @enum {MutationRecordType} */ export enum MutationRecordType { childList = 'childList', attributes = 'attributes', characterData = 'characterData', subtree = 'subtree' } /** * MutationEvent Types * @event MutationObserver#MUTATION_EVENTS * @memberof MutationObserver * @property {String} CHANGE_CHILD_LIST - childList 변경 시점 * @property {String} CHANGE_SUBTREE - subtree 변경 시점 * @property {String} CHANGE_ATTRIBUTES - attributes 변경 시점 * @property {String} CHANGE_CHARACTER_DATA - data 변경 시점 * @property {String} CHANGE - 기타 변경 시점 * @property {String} WILD_CARD - 모든 변경 시점 */ // for jsdoc /** * @export * @readonly * @enum {MUTATION_EVENTS} */ export enum MUTATION_EVENTS { CHANGE_CHILD_LIST = 'MUTATION_OBERSERVER-EVENTS-CHANGE_CHILD_LIST', CHANGE_SUBTREE = 'MUTATION_OBERSERVER-EVENTS-CHANGE_SUBTREE', CHANGE_ATTRIBUTES = 'MUTATION_OBERSERVER-EVENTS-CHANGE_ATTRIBUTES', CHANGE_CHARACTER_DATA = 'MUTATION_OBERSERVER-EVENTS-CHANGE_CHARACTER_DATA', CHANGE = 'MUTATION_OBERSERVER-EVENTS-CHANGE', WILD_CARD = 'MUTATION_OBERSERVER-EVENTS-CHANGE_WILCD_CARD' } class PureMutationObserver { private pure: any; constructor(callback: MutationCallback) { // TODO polyfill // const MutationObserver = require('mutation-observer'); // this.pure = new MutationObserver(callback); this.pure = new (window as any).MutationObserver(callback); } public observe(target: HTMLElement | any, options: MutationObserverInit): void { this.pure.observe(target, options); } public disconnect(): void { this.pure.disconnect(); } } /** * target 으로 설정된 element 의 변화를 감지 &lt;iframe src=\"https://codesandbox.io/embed/nonollcode-snippet-9gko8?autoresize=1&amp;expanddevtools=1&amp;fontsize=14&amp;hidenavigation=1&amp;initialpath=%2Fobserver-MutationObserver.html&amp;module=%2Fobserver-MutationObserver.html&amp;theme=dark\" style=\"width:100%; height:500px; border:1px solid black; border-radius: 4px; overflow:hidden;\" title=\"@nonoll/code-snippet\" allow=\"geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\" &gt;&lt;/iframe&gt; * @export * @class MutationObserver * @alias observer/MutationObserver * @extends EventEmitter * @see https://developer.mozilla.org/ko/docs/Web/API/MutationObserver * @see https://github.com/webmodules/mutation-observer * @see https://developer.mozilla.org/ko/docs/Web/API/MutationObserver#MutationObserverInit * @param {Partial&lt;IMutationObserverExtOption&gt;} option * @param {HTMLElement} [option.target=null] target * @param {Number} [option.debounce=300] debounce * @param {Function|null} [option.callback={@link noop}] callback function * @param {Object} [option.options={}] * @param {Boolean} [option.options.childList] * @param {Boolean} [option.options.attributes] * @param {Boolean} [option.options.characterData] * @param {Boolean} [option.options.subtree] * @param {Boolean} [option.options.attributeOldValue] * @param {Boolean} [option.options.characterDataOldValue] * @param {Array.&lt;String&gt;} [option.options.attributeFilter] [MDN attributeFilter]{@link https://developer.mozilla.org/en-US/docs/Web/API/MutationObserverInit/attributeFilter} * @example import { MutationObserver, MUTATION_EVENTS } from '@nonoll/code-snippet/observer'; const createElement = ({ tag = 'div', id = '', style = '', value = '', text = '' }) =&gt; { const doc = window.document; const target = doc.createElement(tag); target.setAttribute('id', id); target.setAttribute('style', style); target.setAttribute('value', value); if (text) { target.textContent = text; } return target; } let observer; const forExample = () =&gt; { if (observer) { console.log('already example'); return; } const doc = window.document; const target = createElement({ id: 'example_target', style: 'border: 1px solid red' }); doc.body.appendChild(target); const options = { childList: true, subtree: true }; observer = new MutationObserver({ target, options }); observer.on(MUTATION_EVENTS.WILD_CARD, (type, values) =&gt; { console.log('wildCard', type, values); }).on(MUTATION_EVENTS.CHANGE_CHILD_LIST, values =&gt; { console.log('childList', values); }); observer.attach(); const attachButton = createElement({ tag: 'button', text: 'observer attach' }); const detachButton = createElement({ tag: 'button', text: 'observer detach' }); const appendButton = createElement({ tag: 'button', text: 'append' }); doc.body.appendChild(attachButton); doc.body.appendChild(detachButton); doc.body.appendChild(appendButton); attachButton.addEventListener('click', e =&gt; { e.preventDefault(); console.log('attachButton clicked'); if (!observer) { return; } observer.attach(); }); detachButton.addEventListener('click', e =&gt; { e.preventDefault(); console.log('detachButton clicked'); if (!observer) { return; } observer.detach(); }); appendButton.addEventListener('click', e =&gt; { e.preventDefault(); console.log('appendButton clicked'); if (!observer) { return; } const input = createElement({ tag: 'input', value: `${+new Date()}` }); target.appendChild(input); }); } forExample(); */ export class MutationObserver extends EventEmitter { private target: HTMLElement; private callback: TypeVoidFunction; private observer: PureMutationObserver; private options: MutationObserverInit; constructor({ target = null, debounce = 300, callback = noop, options = {} }: Partial&lt;IMutationObserverExtOption&gt;) { super(); const defaultOptions = { childList: true, subtree: true }; this.target = target; this.options = Object.assign({}, defaultOptions, options); this.onMutationObserverListener = this.onMutationObserverListener.bind(this); /* istanbul ignore next: for noop */ this.callback = callback || noop; if (debounce) { this.observer = new PureMutationObserver(_debounce(this.onMutationObserverListener, debounce) as MutationCallback); } else { this.observer = new PureMutationObserver(this.onMutationObserverListener); } } /** * 이벤트 감지 설정 * @returns {MutationObserver} * @memberof MutationObserver * @example observer.attach(); */ public attach(): MutationObserver { this.observer.observe(this.target, this.options); return this; } /** * 이벤트 감지 등록 * @override * @param {string} eventName * @param {TypeVoidFunction} [listener={@link noop}] * @param {*} [context] * @memberof MutationObserver * @listens MutationObserver#MUTATION_EVENTS * @returns {MutationObserver} */ public on(eventName: string, /* istanbul ignore next: for noop */ listener: TypeVoidFunction = noop, context?: any): MutationObserver { super.on(eventName, listener, context); return this; } /** * 변화 감지 이벤트 리스너 * @private * @param {MutationRecord[]} mutations [MDN MutationRecord]{@link https://developer.mozilla.org/en-US/docs/Web/API/MutationRecord} * @memberof MutationObserver * @fires MutationObserver#MUTATION_EVENTS */ private onMutationObserverListener(mutations: MutationRecord[]): void { mutations.forEach(mutation =&gt; { const type = mutation.type as MutationRecordType; const values = { type, mutation }; switch (type) { case MutationRecordType.childList: this.callback(values); this.emit(MUTATION_EVENTS.CHANGE_CHILD_LIST, values); this.emit(MUTATION_EVENTS.WILD_CARD, MUTATION_EVENTS.CHANGE_CHILD_LIST, values); break; case MutationRecordType.subtree: this.callback(values); this.emit(MUTATION_EVENTS.CHANGE_SUBTREE, values); this.emit(MUTATION_EVENTS.WILD_CARD, MUTATION_EVENTS.CHANGE_SUBTREE, values); break; case MutationRecordType.attributes: this.callback(values); this.emit(MUTATION_EVENTS.CHANGE_ATTRIBUTES, values); this.emit(MUTATION_EVENTS.WILD_CARD, MUTATION_EVENTS.CHANGE_ATTRIBUTES, values); break; case MutationRecordType.characterData: this.callback(values); this.emit(MUTATION_EVENTS.CHANGE_CHARACTER_DATA, values); this.emit(MUTATION_EVENTS.WILD_CARD, MUTATION_EVENTS.CHANGE_CHARACTER_DATA, values); break; /* istanbul ignore next: for default */ default: this.callback(values); this.emit(MUTATION_EVENTS.CHANGE, type, values); this.emit(MUTATION_EVENTS.WILD_CARD, type, values); break; } }); } /** * 이벤트 감지 해제 * @returns {MutationObserver} * @memberof MutationObserver * @example observer.detach(); */ public detach(): MutationObserver { if (this.observer) { this.observer.disconnect(); } return this; } /** * destory * @returns {MutationObserver} * @memberof MutationObserver * @example observer.destroy(); */ public destroy(): MutationObserver { this.detach(); this.observer = null; return this; } } × Search results Close "},"functions_noop.ts.html":{"id":"functions_noop.ts.html","title":"Source: functions/noop.ts","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Source: functions/noop.ts /** * empty function * @memberof module:functions * @alias noop */ export function noop() {} × Search results Close "},"observer_index.ts.html":{"id":"observer_index.ts.html","title":"Source: observer/index.ts","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Source: observer/index.ts /** * @alias observer */ export * from './IntersectionObserver'; export * from './MutationObserver'; export * from './PrefersColorSchemeObserver'; export * from './VisibilityChangeObserver'; export * from './types'; × Search results Close "},"observer_PrefersColorSchemeObserver.ts.html":{"id":"observer_PrefersColorSchemeObserver.ts.html","title":"Source: observer/PrefersColorSchemeObserver.ts","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Source: observer/PrefersColorSchemeObserver.ts import { EventEmitter } from '../event'; import { IPrefersColorSchemeStatus } from './types'; /** * @typedef {String} PREFERS_COLOR_SCHEME * @alias PREFERS_COLOR_SCHEME * @memberof PrefersColorSchemeObserver * @property {String} LIGHT * @property {String} DARK */ // for jsdoc /** * @export * @readonly * @enum {PREFERS_COLOR_SCHEME} */ export enum PREFERS_COLOR_SCHEME { LIGHT = 'light', DARK = 'dark' } /** * PrefersColorSchemeObserverEvent Types * @event PrefersColorSchemeObserver#PREFERS_COLOR_SCHEME_EVENTS * @memberof PrefersColorSchemeObserver * @property {String} CHANGE - 변경 시점 * @property {String} GET_STATUS - 현재 상태값 체크 */ // for jsdoc /** * @export * @readonly * @enum {PREFERS_COLOR_SCHEME_EVENTS} */ export enum PREFERS_COLOR_SCHEME_EVENTS { CHANGE = 'PREFERS_COLOR_SCHEME_OBSERVER-EVENTS-CHANGE', GET_STATUS = 'PREFERS_COLOR_SCHEME_OBSERVER-EVENTS-GET_COLOR_SCHEME' } /** * prefers-color-scheme 상태 변화를 감지 &lt;iframe src=\"https://codesandbox.io/embed/nonollcode-snippet-9gko8?autoresize=1&amp;expanddevtools=1&amp;fontsize=14&amp;hidenavigation=1&amp;initialpath=%2Fobsever-PrefersColorScheme.html&amp;module=%2Fobsever-PrefersColorScheme.html&amp;theme=dark\" style=\"width:100%; height:500px; border:1px solid black; border-radius: 4px; overflow:hidden;\" title=\"@nonoll/code-snippet\" allow=\"geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\" &gt;&lt;/iframe&gt; * @export * @class PrefersColorSchemeObserver * @alias observer/PrefersColorSchemeObserver * @extends EventEmitter * @throws {Error} browser 에서 지원하지 못하는 경우 - throw new Error('PrefersColorScheme 지원되지 않는 브라우저입니다.'); * @example import { PrefersColorSchemeObserver, PREFERS_COLOR_SCHEME_EVENTS } from \"@nonoll/code-snippet/observer\"; const createElement = ({ tag = 'div', id = '', style = '', value = '', text = '' }) =&gt; { const doc = window.document; const target = doc.createElement(tag); target.setAttribute('id', id); target.setAttribute('style', style); target.setAttribute('value', value); if (text) { target.textContent = text; } return target; } let observer; export const forExample = () =&gt; { if (observer) { console.log(\"already example\"); return; } const doc = window.document; observer = new PrefersColorSchemeObserver(); observer.on(PREFERS_COLOR_SCHEME_EVENTS.CHANGE, ({ isDark, isLight }) =&gt; { console.log(\"change\", isDark, isLight); }); observer.attach(); observer.emit(PREFERS_COLOR_SCHEME_EVENTS.GET_STATUS); const statusButton = createElement({ tag: \"button\", text: \"status\" }); doc.body.appendChild(statusButton); statusButton.addEventListener(\"click\", e =&gt; { e.preventDefault(); console.log(\"statusButton clicked\"); if (!observer) { return; } observer.emit(PREFERS_COLOR_SCHEME_EVENTS.GET_STATUS); }); }; forExample(); */ export class PrefersColorSchemeObserver extends EventEmitter { private checkColorScheme = `(prefers-color-scheme: ${PREFERS_COLOR_SCHEME.DARK})`; constructor() { super(); /* istanbul ignore next: for not support error */ if (!PrefersColorSchemeObserver.isSupport()) { throw new Error('PrefersColorScheme 지원되지 않는 브라우저입니다.'); } this.onPrefersColorSchemeChangeListener = this.onPrefersColorSchemeChangeListener.bind(this); } /** * prefers-color-scheme 지원 여부 반환 * @static * @returns {boolean} * @memberof PrefersColorSchemeObserver */ static isSupport(): boolean { return !!window.matchMedia; } /** * 이벤트 감지 설정 * @returns {PrefersColorSchemeObserver} * @memberof PrefersColorSchemeObserver */ public attach(): PrefersColorSchemeObserver { window.matchMedia(this.checkColorScheme).addEventListener('change', this.onPrefersColorSchemeChangeListener); this.on(PREFERS_COLOR_SCHEME_EVENTS.GET_STATUS, this.onPrefersColorSchemeChangeListener); return this; } /** * 이벤트 감지 해제 * @returns {PrefersColorSchemeObserver} * @memberof PrefersColorSchemeObserver */ public detach(): PrefersColorSchemeObserver { window.matchMedia(this.checkColorScheme).removeEventListener('change', this.onPrefersColorSchemeChangeListener); this.off(PREFERS_COLOR_SCHEME_EVENTS.GET_STATUS, this.onPrefersColorSchemeChangeListener); return this; } /** * 현재 상태를 반환 * @returns {IPrefersColorSchemeStatus} * @memberof PrefersColorSchemeObserver */ public getStatus(): IPrefersColorSchemeStatus { const { matches } = window.matchMedia(this.checkColorScheme); const status: IPrefersColorSchemeStatus = { isDark: matches, isLight: !matches }; return status; } /** * 변화 감지 이벤트 리스너 * @private * @memberof PrefersColorSchemeObserver * @fires PrefersColorSchemeObserver#PREFERS_COLOR_SCHEME_EVENTS */ private onPrefersColorSchemeChangeListener(): void { const status = this.getStatus(); this.emit(PREFERS_COLOR_SCHEME_EVENTS.CHANGE, status); } /** * destroy * @returns {PrefersColorSchemeObserver} * @memberof PrefersColorSchemeObserver */ public destroy(): PrefersColorSchemeObserver { this.detach(); return this; } } × Search results Close "},"types_voidFunction.ts.html":{"id":"types_voidFunction.ts.html","title":"Source: types/voidFunction.ts","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Source: types/voidFunction.ts /** * void function type define * @memberof module:types * @alias TypeVoidFunction */ export type TypeVoidFunction = (...args: any[]) =&gt; void; × Search results Close "},"observer_VisibilityChangeObserver.ts.html":{"id":"observer_VisibilityChangeObserver.ts.html","title":"Source: observer/VisibilityChangeObserver.ts","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Source: observer/VisibilityChangeObserver.ts import { EventEmitter } from '../event'; import { IVisibilityStatus } from './types'; const doc = window.document as any; /** * 실행된 browser 기준으로, visibilityChange event 에 맞는 vendorPrefix 반환 * @memberof VisibilityChangeObserver * @export * @returns {String} */ export function getVendorPrefix(): string { let prefix = ''; if (typeof doc.hidden !== 'undefined') { prefix = ''; } /* istanbul ignore next */ else if (typeof doc.msHidden !== 'undefined') { prefix = 'ms'; } /* istanbul ignore next */ else if (typeof doc.webkitHidden !== 'undefined') { prefix = 'webkit'; } return prefix; } /** * getVendorPrefix 의 값 * @constant * @memberof VisibilityChangeObserver * @type {String} */ export const VENDOR_PREFIX = getVendorPrefix(); /** * browser 상의 visibilitychange event 명 * @constant * @memberof VisibilityChangeObserver * @type {String} */ export const VISIBILITY_EVENT_NAME = `${VENDOR_PREFIX}visibilitychange`; /** * browser 상의 visibility hidden 시점의 event 명 * @constant * @memberof VisibilityChangeObserver * @type {String} */ export const HIDDEN_METHOD_NAME = VENDOR_PREFIX ? /* istanbul ignore next */ `${VENDOR_PREFIX}Hidden` : 'hidden'; /** * VisibilityChange Event Types * @event VisibilityChangeObserver#VISIBILITY_EVENTS * @memberof VisibilityChangeObserver * @property {String} CHANGE - 변경 시점 * @property {String} GET_STATUS - 현재 상태값 체크 */ // for jsdoc /** * @export * @readonly * @enum {VISIBILITY_EVENTS} */ export enum VISIBILITY_EVENTS { CHANGE = 'VISIBILITY_CHANGE-EVENTS-CHANGE', GET_STATUS = 'VISIBILITY_CHANGE-EVENTS-GET_STATUS' } /** * browser 의 visibility 변화를 감지 &lt;iframe src=\"https://codesandbox.io/embed/nonollcode-snippet-9gko8?autoresize=1&amp;expanddevtools=1&amp;fontsize=14&amp;hidenavigation=1&amp;initialpath=%2Fobserver-VisibilityChange.html&amp;module=%2Fobserver-VisibilityChange.html&amp;theme=dark\" style=\"width:100%; height:500px; border:1px solid black; border-radius: 4px; overflow:hidden;\" title=\"@nonoll/code-snippet\" allow=\"geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\" &gt;&lt;/iframe&gt; * @export * @class VisibilityChangeObserver * @alias observer/VisibilityChangeObserver * @extends {EventEmitter} * @see https://developer.mozilla.org/en-US/docs/Web/API/Page_Visibility_API * @see https://caniuse.com/#search=visibilityState * @throws {Error} browser 에서 지원하지 못하는 경우 - throw new Error('VisibilityChange 지원되지 않는 브라우저입니다.'); * @example import { VisibilityChangeObserver, VISIBILITY_EVENTS } from '@nonoll/code-snippet/observer'; const createElement = ({ tag = 'div', id = '', style = '', value = '', text = '' }) =&gt; { const doc = window.document; const target = doc.createElement(tag); target.setAttribute('id', id); target.setAttribute('style', style); target.setAttribute('value', value); if (text) { target.textContent = text; } return target; } let observer; const forExample = () =&gt; { if (observer) { console.log('already example'); return; } const doc = window.document; observer = new VisibilityChangeObserver(); observer.on(VISIBILITY_EVENTS.CHANGE, ({ isHidden, isShow }) =&gt; { console.log('change', isHidden, isShow); }); observer.attach(); observer.emit(VISIBILITY_EVENTS.GET_STATUS); const statusButton = createElement({ tag: 'button', text: 'status' }); const openButton = createElement({ tag: 'button', text: 'window open' }); doc.body.appendChild(statusButton); doc.body.appendChild(openButton); statusButton.addEventListener('click', e =&gt; { e.preventDefault(); console.log('statusButton clicked'); if (!observer) { return; } // observer.emit(VISIBILITY_EVENTS.GET_STATUS); const { isHidden, isShow } = observer.getStatus(); console.log('getStatus', isHidden, isShow); }); openButton.addEventListener('click', e =&gt; { e.preventDefault(); console.log('openButton clicked'); if (!observer) { return; } const browser = window.open('https://nonoll.github.io/code-snippet/'); if (!browser) { console.error('팝업이 차단되어 있습니다.'); } }); } forExample(); */ export class VisibilityChangeObserver extends EventEmitter { constructor() { super(); /* istanbul ignore next: for not support error */ if (!VisibilityChangeObserver.isSupport()) { throw new Error('VisibilityChange 지원되지 않는 브라우저입니다.'); } this.onVisibilityChangeListener = this.onVisibilityChangeListener.bind(this); } /** * visibilitychange event 명 반환 * @static * @returns {String} * @memberof VisibilityChangeObserver */ static visibilityEventName(): string { return `${VENDOR_PREFIX}visibilitychange`; } /** * visibility hidden event 명 반환 * @static * @returns {String} * @memberof VisibilityChangeObserver */ static hiddenMethodName(): string { return HIDDEN_METHOD_NAME; } /** * visibility change 지원 여부 반환 * @static * @returns {boolean} * @memberof VisibilityChangeObserver */ static isSupport(): boolean { return typeof doc[VisibilityChangeObserver.hiddenMethodName()] !== 'undefined'; } /** * @private * @memberof VisibilityChangeObserver * @see IVisibilityStatus * @fires VisibilityChangeObserver#VISIBILITY_EVENTS */ private onVisibilityChangeListener(): void { const isHidden = this.isHidden(); this.emit(VISIBILITY_EVENTS.CHANGE, { isHidden, isShow: !isHidden }); } /** * @private * @returns {Boolean} * @memberof VisibilityChangeObserver */ private isHidden(): boolean { return doc[VisibilityChangeObserver.hiddenMethodName()]; } /** * 현재 상태를 반환 * @returns {IVisibilityStatus} * @memberof VisibilityChangeObserver */ public getStatus(): IVisibilityStatus { this.emit(VISIBILITY_EVENTS.GET_STATUS); const isHidden = this.isHidden(); return { isHidden, isShow: !isHidden }; } /** * 이벤트 감지 설정 * @returns {VisibilityChangeObserver} * @memberof VisibilityChangeObserver */ public attach(): VisibilityChangeObserver { doc.addEventListener(VisibilityChangeObserver.visibilityEventName(), this.onVisibilityChangeListener, false); this.on(VISIBILITY_EVENTS.GET_STATUS, this.onVisibilityChangeListener); return this; } /** * 이벤트 감지 해제 * @returns {VisibilityChangeObserver} * @memberof VisibilityChangeObserver */ public detach(): VisibilityChangeObserver { doc.removeEventListener(VisibilityChangeObserver.visibilityEventName(), this.onVisibilityChangeListener, false); this.off(VISIBILITY_EVENTS.GET_STATUS, this.onVisibilityChangeListener); return this; } /** * destory * @returns {VisibilityChangeObserver} * @memberof VisibilityChangeObserver */ public destroy(): VisibilityChangeObserver { this.detach(); return this; } } × Search results Close "},"global.html":{"id":"global.html","title":"Global","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Global Members event Source: event/index.ts, line 4 &lt;constant&gt; INTERSECTION_EVENTS :INTERSECTION_EVENTS Type: INTERSECTION_EVENTS Source: observer/IntersectionObserver.ts, line 19 observer Source: observer/index.ts, line 4 Type Definitions callback(changeData) Parameters: Name Type Description changeData IIntersectionChangeData Source: observer/types.ts, line 82 IntersectionObserverEntry Properties: Name Type Description boundingClientRect DOMRectReadOnly intersectionRatio Number intersectionRect DOMRectReadOnly isIntersecting Boolean rootBounds DOMRectReadOnly | null target Element time Number Source: observer/types.ts, line 69 IntersectionObserverInit Properties: Name Type Argument Description root Element | null &lt;optional&gt; rootMargin String &lt;optional&gt; threshold Number | Array.&lt;Number&gt; &lt;optional&gt; Source: observer/types.ts, line 60 × Search results Close "},"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Modules Classes EventEmitter IntersectionObserver MutationObserver PrefersColorSchemeObserver VisibilityChangeObserver Events INTERSECTION_EVENTS IntersectionEvent Types Properties: Name Type Description CHANGE String 변경 시점 Source: observer/IntersectionObserver.ts, line 7 MUTATION_EVENTS MutationEvent Types Properties: Name Type Description CHANGE_CHILD_LIST String childList 변경 시점 CHANGE_SUBTREE String subtree 변경 시점 CHANGE_ATTRIBUTES String attributes 변경 시점 CHANGE_CHARACTER_DATA String data 변경 시점 CHANGE String 기타 변경 시점 WILD_CARD String 모든 변경 시점 Source: observer/MutationObserver.ts, line 30 Listeners of This Event: MutationObserver#on PREFERS_COLOR_SCHEME_EVENTS PrefersColorSchemeObserverEvent Types Properties: Name Type Description CHANGE String 변경 시점 GET_STATUS String 현재 상태값 체크 Source: observer/PrefersColorSchemeObserver.ts, line 22 VISIBILITY_EVENTS VisibilityChange Event Types Properties: Name Type Description CHANGE String 변경 시점 GET_STATUS String 현재 상태값 체크 Source: observer/VisibilityChangeObserver.ts, line 50 × Search results Close "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Classes Classes EventEmitter IntersectionObserver MutationObserver PrefersColorSchemeObserver VisibilityChangeObserver Events INTERSECTION_EVENTS IntersectionEvent Types Properties: Name Type Description CHANGE String 변경 시점 Source: observer/IntersectionObserver.ts, line 7 MUTATION_EVENTS MutationEvent Types Properties: Name Type Description CHANGE_CHILD_LIST String childList 변경 시점 CHANGE_SUBTREE String subtree 변경 시점 CHANGE_ATTRIBUTES String attributes 변경 시점 CHANGE_CHARACTER_DATA String data 변경 시점 CHANGE String 기타 변경 시점 WILD_CARD String 모든 변경 시점 Source: observer/MutationObserver.ts, line 30 Listeners of This Event: MutationObserver#on PREFERS_COLOR_SCHEME_EVENTS PrefersColorSchemeObserverEvent Types Properties: Name Type Description CHANGE String 변경 시점 GET_STATUS String 현재 상태값 체크 Source: observer/PrefersColorSchemeObserver.ts, line 22 VISIBILITY_EVENTS VisibilityChange Event Types Properties: Name Type Description CHANGE String 변경 시점 GET_STATUS String 현재 상태값 체크 Source: observer/VisibilityChangeObserver.ts, line 50 × Search results Close "},"interfaces.list.html":{"id":"interfaces.list.html","title":"Interfaces","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Interfaces Classes EventEmitter IntersectionObserver MutationObserver PrefersColorSchemeObserver VisibilityChangeObserver Events INTERSECTION_EVENTS IntersectionEvent Types Properties: Name Type Description CHANGE String 변경 시점 Source: observer/IntersectionObserver.ts, line 7 MUTATION_EVENTS MutationEvent Types Properties: Name Type Description CHANGE_CHILD_LIST String childList 변경 시점 CHANGE_SUBTREE String subtree 변경 시점 CHANGE_ATTRIBUTES String attributes 변경 시점 CHANGE_CHARACTER_DATA String data 변경 시점 CHANGE String 기타 변경 시점 WILD_CARD String 모든 변경 시점 Source: observer/MutationObserver.ts, line 30 Listeners of This Event: MutationObserver#on PREFERS_COLOR_SCHEME_EVENTS PrefersColorSchemeObserverEvent Types Properties: Name Type Description CHANGE String 변경 시점 GET_STATUS String 현재 상태값 체크 Source: observer/PrefersColorSchemeObserver.ts, line 22 VISIBILITY_EVENTS VisibilityChange Event Types Properties: Name Type Description CHANGE String 변경 시점 GET_STATUS String 현재 상태값 체크 Source: observer/VisibilityChangeObserver.ts, line 50 × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver @nonoll/code-snippet This library was generated with Angular CLI version 11.0.5. Status Links github npm docs codesandbox × Search results Close "},"module-browser.html":{"id":"module-browser.html","title":"Module: browser","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Module: browser Source: browser/index.ts, line 1 Methods &lt;static&gt; browserType() AOS, IOS - type, version 정보 반환 Source: browser/uaParser.ts, line 56 Returns: Type IBrowserType Example import { browserType } from '@nonoll/code-snippet/browser'; console.log(browserType()); // { type, version } &lt;static&gt; getPassiveOption() 실행된 browser 에서 지원하는 passive 옵션 값 반환 Source: browser/isSupportPassive.ts, line 44 See: https://developers.google.com/web/tools/lighthouse/audits/passive-event-listeners?hl=ko Returns: Type IPassive | Boolean Example import { getPassiveOption } from '@nonoll/code-snippet/browser'; console.log(getPassiveOption()); // IPassive or false &lt;static&gt; isAOS() browser - AOS 유무 반환 Source: browser/isAOS.ts, line 10 Returns: Type Boolean Example import { isAOS } from '@nonoll/code-snippet/browser'; console.log(isAOS()); // true or false &lt;static&gt; isCHROME() browser - CHROME 유무 반환 Source: browser/isCHROME.ts, line 10 Returns: Type Boolean Example import { isCHROME } from '@nonoll/code-snippet/browser'; console.log(isCHROME()); // true or false &lt;static&gt; isIOS() browser - IOS 유무 반환 Source: browser/isIOS.ts, line 10 Returns: Type Boolean Example import { isIOS } from '@nonoll/code-snippet/browser'; console.log(isIOS()); // true or false &lt;static&gt; uaParser(parsingType [, start] [, end] [, ua]) uaParser Parameters: Name Type Argument Default Description parsingType T parsing 타입 start Number &lt;optional&gt; 1 version slice - start index end Number &lt;optional&gt; 1 version slice - end index ua String &lt;optional&gt; window.navigator.userAgent Source: browser/uaParser.ts, line 22 Returns: Type R Example import { uaParser, IBrowserType } from '@nonoll/code-snippet/browser'; const iosChromeParser = (): IBrowserType =&gt; { return uaParser&lt;{CHROME: string}, IBrowserType&gt;({CHROME: 'CriOS\\/([0-9]+)?\\\\.?([0-9]+)\\\\.?([0-9]+)\\\\.?([0-9]+)?'}, 1, 6); }; console.log(iosChromeParser()); // { type, version } &lt;static&gt; vendorPrefix() browser - vendorPrefix 반환 Source: browser/vendorPrefix.ts, line 13 See: https://davidwalsh.name/vendor-prefix Returns: Type IVendorPrefix Example import { vendorPrefix } from '@nonoll/code-snippet/browser'; console.log(vendorPrefix()); // {dom: \"Webkit\", lowercase: \"webkit\", css: \"-webkit-\", js: \"Webkit\"} Type Definitions BROWSER_AGENTS Type: String Properties: Name Type Description AOS String user agent pattern IOS String user agent pattern Source: browser/types.ts, line 1 IVendorPrefix IVendorPrefix Type: TSInterface Properties: Name Type Description dom string dom 기준, prefix lowercase string 소문자로 반환 css string css 기준, prefix js string js 기준, prefix Source: browser/types.ts, line 63 × Search results Close "},"EventEmitter.html":{"id":"EventEmitter.html","title":"Class: EventEmitter","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Class: EventEmitter event EventEmitter new EventEmitter() EventEmitter 의 기능과 동일한 맥락으로, 간단히 구성 Source: event/EventEmitter.ts, line 5 See: https://www.npmjs.com/package/events Example import { EventEmitter } from '@nonoll/code-snippet/event'; const createElement = ({ tag = 'div', id = '', style = '', value = '', text = '' }) =&gt; { const doc = window.document; const target = doc.createElement(tag); target.setAttribute('id', id); target.setAttribute('style', style); target.setAttribute('value', value); if (text) { target.textContent = text; } return target; } let ee; const forExample = () =&gt; { const doc = window.document; const onButton = createElement({ tag: 'button', text: 'on button' }); const offButton = createElement({ tag: 'button', text: 'off button' }); const emitButton = createElement({ tag: 'button', text: 'emit button' }); const EVENT_NAME = 'EVENT_EXAMPLE'; doc.body.appendChild(onButton); doc.body.appendChild(offButton); doc.body.appendChild(emitButton); ee = new EventEmitter(); ee.on(EVENT_NAME, res =&gt; console.log(res)); onButton.addEventListener('click', e =&gt; { e.preventDefault(); console.log('onButton clicked'); if (!ee) { return; } ee.off(EVENT_NAME); ee.on(EVENT_NAME, res =&gt; console.log(res)); }); offButton.addEventListener('click', e =&gt; { e.preventDefault(); console.log('offButton clicked'); if (!ee) { return; } ee.off(EVENT_NAME); }); emitButton.addEventListener('click', e =&gt; { e.preventDefault(); console.log('emitButton clicked'); if (!ee) { return; } ee.emit(EVENT_NAME, new Date()); }); } forExample(); Methods emit(eventName, values) 이벤트 전파 Parameters: Name Type Argument Description eventName string values Array.&lt;any&gt; &lt;repeatable&gt; Source: event/EventEmitter.ts, line 141 Returns: Type EventEmitter fire(eventName, values) 이벤트 전파 Parameters: Name Type Description eventName string values any Source: event/EventEmitter.ts, line 157 Returns: Type EventEmitter off(eventName [, listener]) 이벤트 감지 해제 Parameters: Name Type Argument Description eventName string listener TypeVoidFunction &lt;optional&gt; Source: event/EventEmitter.ts, line 106 Returns: Type EventEmitter on(eventName [, listener] [, context]) 이벤트 감지 등록 Parameters: Name Type Argument Default Description eventName string listener TypeVoidFunction &lt;optional&gt; noop context * &lt;optional&gt; Source: event/EventEmitter.ts, line 94 Returns: Type EventEmitter once(eventName [, listener] [, context]) 이벤트 1회 감지 등록 Parameters: Name Type Argument Default Description eventName string listener TypeVoidFunction &lt;optional&gt; noop context * &lt;optional&gt; Source: event/EventEmitter.ts, line 125 Returns: Type EventEmitter × Search results Close "},"IAgentType.html":{"id":"IAgentType.html","title":"Interface: IAgentType","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Interface: IAgentType browser IAgentType Properties: Name Type Description type String | Null version String Source: browser/types.ts, line 38 × Search results Close "},"IBrowserAgents.html":{"id":"IBrowserAgents.html","title":"Interface: IBrowserAgents","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Interface: IBrowserAgents browser IBrowserAgents Properties: Name Type Description AOS String aos IOS String ios Source: browser/types.ts, line 26 × Search results Close "},"IBrowserType.html":{"id":"IBrowserType.html","title":"Interface: IBrowserType","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Interface: IBrowserType browser IBrowserType Properties: Name Type Description type String | Null version String Source: browser/types.ts, line 52 Extends IAgentType × Search results Close "},"IEvent.html":{"id":"IEvent.html","title":"Interface: IEvent","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Interface: IEvent IEvent Event Interface Properties: Name Type Argument Description eventName String 이벤트 명 listener TypeVoidFunction &lt;optional&gt; listener function context any &lt;optional&gt; context Source: event/types.ts, line 11 × Search results Close "},"IIntersectionChangeData.html":{"id":"IIntersectionChangeData.html","title":"Interface: IIntersectionChangeData","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Interface: IIntersectionChangeData IntersectionObserver IIntersectionChangeData IntersectionObserver ChangeData Properties: Name Type Description currentTarget Element entry IntersectionObserverEntry intersectionRatio Number isVisible Boolean direction INTERSECTION_DIRECTIONS Source: observer/types.ts, line 119 × Search results Close "},"IIntersectionObserverExtOption.html":{"id":"IIntersectionObserverExtOption.html","title":"Interface: IIntersectionObserverExtOption","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Interface: IIntersectionObserverExtOption IntersectionObserver IIntersectionObserverExtOption IntersectionObserver init options Properties: Name Type Argument Description target Element 감지할 element visibleRatio Number &lt;optional&gt; 이벤트 visibleRatio 값 throttle Number &lt;optional&gt; 이벤트 throttle 값 callback callback &lt;optional&gt; 이벤트 callback options IntersectionObserverInit &lt;optional&gt; 세부 IntersectionObserver options Source: observer/types.ts, line 100 See: https://developer.mozilla.org/ko/docs/Web/API/IntersectionObserver/IntersectionObserver#%EB%A7%A4%EA%B0%9C%EB%B3%80%EC%88%98 × Search results Close "},"IMutationObserverExtOption.html":{"id":"IMutationObserverExtOption.html","title":"Interface: IMutationObserverExtOption","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Interface: IMutationObserverExtOption MutationObserver IMutationObserverExtOption MutationObserver init options Properties: Name Type Argument Description target HTMLElement 감지할 element debounce Number &lt;optional&gt; 이벤트 debounce 값 callback TypeVoidFunction &lt;optional&gt; 이벤트 callback options IMutationObserverInit &lt;optional&gt; 세부 MutationObserver options Source: observer/types.ts, line 38 × Search results Close "},"IMutationObserverInit.html":{"id":"IMutationObserverInit.html","title":"Interface: IMutationObserverInit","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Interface: IMutationObserverInit MutationObserver IMutationObserverInit pure MutationObserver init options Properties: Name Type Argument Description childList Boolean &lt;optional&gt; target 의 하위 요소 추가 / 삭제 감지 유무 attributes Boolean &lt;optional&gt; target 의 속성 변경 감지 유무 characterData Boolean &lt;optional&gt; target 의 데이터 변경 감지 유무 subtree Boolean &lt;optional&gt; target 의 하위 요소 변경 사항 감지 유무 attributeOldValue Boolean &lt;optional&gt; attributeOldValue TBD characterDataOldValue Boolean &lt;optional&gt; TBD attributeFilter Array.&lt;String&gt; &lt;optional&gt; TBD MDN attributeFilter Source: observer/types.ts, line 18 See: https://developer.mozilla.org/ko/docs/Web/API/MutationObserver#MutationObserverInit × Search results Close "},"IntersectionObserver.html":{"id":"IntersectionObserver.html","title":"Class: IntersectionObserver","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Class: IntersectionObserver IntersectionObserver new IntersectionObserver(initParams) element 가 viewport 영역에 노출되는지 변화를 감지 Parameters: Name Type Description initParams Partial.&lt;IIntersectionObserverExtOption&gt; Properties Name Type Argument Default Description target Element visibleRatio Number &lt;optional&gt; 0 throttle Number &lt;optional&gt; 300 callback function | null &lt;optional&gt; noop callback function options IntersectionObserverInit &lt;optional&gt; {} Source: observer/IntersectionObserver.ts, line 316 See: https://developer.mozilla.org/ko/docs/Web/API/IntersectionObserver/IntersectionObserver https://caniuse.com/#search=IntersectionObserver Throws: target 옵션을 지정하지 않은 경우 - throw new Error('IntersectionObserver target 설정은 필수 값 입니다.'); Type Error Example .. TODO Extends EventEmitter Methods &lt;static&gt; getIntersectionEntry(initParams) element 가 이미 노출된 경우 등, IntersectionObserver 등록으로 판단이 어려울 경우 IntersectionObserver.getIntersectionEntry 를 이용하여 target 의 노출 여부를 판단 Parameters: Name Type Description initParams Partial.&lt;IIntersectionObserverExtOption&gt; Properties Name Type Argument Default Description target Element visibleRatio Number &lt;optional&gt; 0 throttle Number &lt;optional&gt; 300 callback function | null &lt;optional&gt; noop callback function options IntersectionObserverInit &lt;optional&gt; {} Source: observer/IntersectionObserver.ts, line 387 Returns: Type IIntersectionChangeData Example .. TODO attach() 이벤트 감지 설정 Source: observer/IntersectionObserver.ts, line 424 Returns: Type IntersectionObserver destroy() destroy Source: observer/IntersectionObserver.ts, line 444 Returns: Type IntersectionObserver detach() 이벤트 감지 해제 Source: observer/IntersectionObserver.ts, line 434 Returns: Type IntersectionObserver emit(eventName, values) 이벤트 전파 Parameters: Name Type Argument Description eventName string values Array.&lt;any&gt; &lt;repeatable&gt; Inherited From: EventEmitter#emit Overrides: EventEmitter#emit Source: event/EventEmitter.ts, line 141 Returns: Type EventEmitter fire(eventName, values) 이벤트 전파 Parameters: Name Type Description eventName string values any Inherited From: EventEmitter#fire Overrides: EventEmitter#fire Source: event/EventEmitter.ts, line 157 Returns: Type EventEmitter off(eventName [, listener]) 이벤트 감지 해제 Parameters: Name Type Argument Description eventName string listener TypeVoidFunction &lt;optional&gt; Inherited From: EventEmitter#off Overrides: EventEmitter#off Source: event/EventEmitter.ts, line 106 Returns: Type EventEmitter on(eventName [, listener] [, context]) 이벤트 감지 등록 Parameters: Name Type Argument Default Description eventName string listener TypeVoidFunction &lt;optional&gt; noop context * &lt;optional&gt; Inherited From: EventEmitter#on Overrides: EventEmitter#on Source: event/EventEmitter.ts, line 94 Returns: Type EventEmitter once(eventName [, listener] [, context]) 이벤트 1회 감지 등록 Parameters: Name Type Argument Default Description eventName string listener TypeVoidFunction &lt;optional&gt; noop context * &lt;optional&gt; Inherited From: EventEmitter#once Overrides: EventEmitter#once Source: event/EventEmitter.ts, line 125 Returns: Type EventEmitter Type Definitions INTERSECTION_DIRECTIONS Type: String Properties: Name Type Description UP String DOWN String UNKNOWN String Source: observer/IntersectionObserver.ts, line 23 Events INTERSECTION_EVENTS IntersectionEvent Types Properties: Name Type Description CHANGE String 변경 시점 Source: observer/IntersectionObserver.ts, line 7 × Search results Close "},"IPassive.html":{"id":"IPassive.html","title":"Interface: IPassive","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Interface: IPassive IPassive Properties: Name Type Description passive Boolean passive 지원 유무 Source: browser/isSupportPassive.ts, line 1 See: https://developers.google.com/web/tools/lighthouse/audits/passive-event-listeners?hl=ko × Search results Close "},"IPrefersColorSchemeStatus.html":{"id":"IPrefersColorSchemeStatus.html","title":"Interface: IPrefersColorSchemeStatus","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Interface: IPrefersColorSchemeStatus PrefersColorSchemeObserver IPrefersColorSchemeStatus PrefersColorSchemeStatus Properties: Name Type Description isDark Boolean isLight Boolean Source: observer/types.ts, line 135 × Search results Close "},"IRatio.html":{"id":"IRatio.html","title":"Interface: IRatio","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Interface: IRatio IRatio ratio 반환 규격 Properties: Name Type Description width Number height Number ratio String 비율 정보 Source: math/types.ts, line 22 Extends IRatioParams × Search results Close "},"IRatioParams.html":{"id":"IRatioParams.html","title":"Interface: IRatioParams","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Interface: IRatioParams IRatioParams ratio 파라미터 규격 Properties: Name Type Description width Number height Number Source: math/types.ts, line 8 × Search results Close "},"IVisibilityStatus.html":{"id":"IVisibilityStatus.html","title":"Interface: IVisibilityStatus","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Interface: IVisibilityStatus VisibilityChangeObserver IVisibilityStatus Visibility Status 반환 규격 Properties: Name Type Description hidden Boolean hidden 상태 유무 show Boolean show 상태 유무 Source: observer/types.ts, line 54 See: VisibilityChangeObserver#getStatus × Search results Close "},"module-functions.html":{"id":"module-functions.html","title":"Module: functions","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Module: functions Source: functions/index.ts, line 1 Methods &lt;static&gt; debounce(fn [, delay]) debounce Parameters: Name Type Argument Default Description fn TypeVoidFunction delay Number &lt;optional&gt; 0 Source: functions/debounce.ts, line 37 See: https://css-tricks.com/debouncing-throttling-explained-examples/ Returns: Type TypeVoidFunction Example import { debounce } from '@nonoll/code-snippet/functions'; const forExample = () =&gt; { const delay = 1000 * 1; const listener = debounce(res =&gt; console.log(res), delay); listener('1'); listener('2'); listener('3'); listener(`4 ${new Date()}`); setTimeout(() =&gt; { listener(`5 ${new Date()}`); }, delay); } forExample(); &lt;static&gt; deepFreeze(target) deepFreeze Parameters: Name Type Description target any Source: functions/deepFreeze.ts, line 7 &lt;static&gt; throttle(fn [, delay]) throttle Parameters: Name Type Argument Default Description fn TypeVoidFunction delay Number &lt;optional&gt; 0 Source: functions/throttle.ts, line 37 See: https://css-tricks.com/debouncing-throttling-explained-examples/ Returns: Type TypeVoidFunction Example import { debounce } from '@nonoll/code-snippet/functions'; const forExample = () =&gt; { const delay = 1000 * 1; const listener = throttle(res =&gt; console.log(res), delay); listener(`1 ${new Date()}`); listener('2'); listener('3'); listener('4'); setTimeout(() =&gt; { listener(`5 ${new Date()}`); }, delay); } forExample(); noop() empty function Source: functions/noop.ts, line 6 × Search results Close "},"module-math.html":{"id":"module-math.html","title":"Module: math","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Module: math Source: math/index.ts, line 1 Methods &lt;static&gt; gcd(a, b) 최대 공약수(greatest common divisor) 반환 Parameters: Name Type Description a Number b Number Source: math/gcd.ts, line 9 Returns: Type Number &lt;static&gt; lcm(a, b) 최소 공배수(least common multiple) 반환 Parameters: Name Type Description a Number b Number Source: math/lcm.ts, line 11 Returns: Type Number &lt;static&gt; sizePercentRatio(width, height) width : height 로 css padding-top 비율(%) 반환 css padding에 의한 비율 계산이 필요할 경우 사용 Parameters: Name Type Description width Number height Number Source: math/sizePercentRatio.ts, line 12 Returns: Type IRatio &lt;static&gt; sizeRatio(width, height) width : height 비율 반환 Parameters: Name Type Description width Number height Number Source: math/sizeRatio.ts, line 12 Returns: Type IRatio × Search results Close "},"module-types.html":{"id":"module-types.html","title":"Module: types","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Module: types Source: types/index.ts, line 1 Members TypeVoidFunction void function type define Source: types/voidFunction.ts, line 6 × Search results Close "},"MutationObserver.html":{"id":"MutationObserver.html","title":"Class: MutationObserver","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Class: MutationObserver MutationObserver new MutationObserver(option) target 으로 설정된 element 의 변화를 감지 Parameters: Name Type Description option Partial.&lt;IMutationObserverExtOption&gt; Properties Name Type Argument Default Description target HTMLElement &lt;optional&gt; null target debounce Number &lt;optional&gt; 300 debounce callback function | null &lt;optional&gt; noop callback function options Object &lt;optional&gt; {} Properties Name Type Argument Description childList Boolean &lt;optional&gt; attributes Boolean &lt;optional&gt; characterData Boolean &lt;optional&gt; subtree Boolean &lt;optional&gt; attributeOldValue Boolean &lt;optional&gt; characterDataOldValue Boolean &lt;optional&gt; attributeFilter Array.&lt;String&gt; &lt;optional&gt; MDN attributeFilter Source: observer/MutationObserver.ts, line 75 See: https://developer.mozilla.org/ko/docs/Web/API/MutationObserver https://github.com/webmodules/mutation-observer https://developer.mozilla.org/ko/docs/Web/API/MutationObserver#MutationObserverInit Example import { MutationObserver, MUTATION_EVENTS } from '@nonoll/code-snippet/observer'; const createElement = ({ tag = 'div', id = '', style = '', value = '', text = '' }) =&gt; { const doc = window.document; const target = doc.createElement(tag); target.setAttribute('id', id); target.setAttribute('style', style); target.setAttribute('value', value); if (text) { target.textContent = text; } return target; } let observer; const forExample = () =&gt; { if (observer) { console.log('already example'); return; } const doc = window.document; const target = createElement({ id: 'example_target', style: 'border: 1px solid red' }); doc.body.appendChild(target); const options = { childList: true, subtree: true }; observer = new MutationObserver({ target, options }); observer.on(MUTATION_EVENTS.WILD_CARD, (type, values) =&gt; { console.log('wildCard', type, values); }).on(MUTATION_EVENTS.CHANGE_CHILD_LIST, values =&gt; { console.log('childList', values); }); observer.attach(); const attachButton = createElement({ tag: 'button', text: 'observer attach' }); const detachButton = createElement({ tag: 'button', text: 'observer detach' }); const appendButton = createElement({ tag: 'button', text: 'append' }); doc.body.appendChild(attachButton); doc.body.appendChild(detachButton); doc.body.appendChild(appendButton); attachButton.addEventListener('click', e =&gt; { e.preventDefault(); console.log('attachButton clicked'); if (!observer) { return; } observer.attach(); }); detachButton.addEventListener('click', e =&gt; { e.preventDefault(); console.log('detachButton clicked'); if (!observer) { return; } observer.detach(); }); appendButton.addEventListener('click', e =&gt; { e.preventDefault(); console.log('appendButton clicked'); if (!observer) { return; } const input = createElement({ tag: 'input', value: `${+new Date()}` }); target.appendChild(input); }); } forExample(); Extends EventEmitter Methods attach() 이벤트 감지 설정 Source: observer/MutationObserver.ts, line 216 Returns: Type MutationObserver Example observer.attach(); destroy() destory Source: observer/MutationObserver.ts, line 304 Returns: Type MutationObserver Example observer.destroy(); detach() 이벤트 감지 해제 Source: observer/MutationObserver.ts, line 290 Returns: Type MutationObserver Example observer.detach(); emit(eventName, values) 이벤트 전파 Parameters: Name Type Argument Description eventName string values Array.&lt;any&gt; &lt;repeatable&gt; Inherited From: EventEmitter#emit Overrides: EventEmitter#emit Source: event/EventEmitter.ts, line 141 Returns: Type EventEmitter fire(eventName, values) 이벤트 전파 Parameters: Name Type Description eventName string values any Inherited From: EventEmitter#fire Overrides: EventEmitter#fire Source: event/EventEmitter.ts, line 157 Returns: Type EventEmitter off(eventName [, listener]) 이벤트 감지 해제 Parameters: Name Type Argument Description eventName string listener TypeVoidFunction &lt;optional&gt; Inherited From: EventEmitter#off Overrides: EventEmitter#off Source: event/EventEmitter.ts, line 106 Returns: Type EventEmitter on(eventName [, listener] [, context]) 이벤트 감지 등록 Parameters: Name Type Argument Default Description eventName string listener TypeVoidFunction &lt;optional&gt; noop context * &lt;optional&gt; Inherited From: MutationObserver#on Overrides: EventEmitter#on Source: observer/MutationObserver.ts, line 231 Listens to Events: MutationObserver#event:MUTATION_EVENTS Returns: Type MutationObserver once(eventName [, listener] [, context]) 이벤트 1회 감지 등록 Parameters: Name Type Argument Default Description eventName string listener TypeVoidFunction &lt;optional&gt; noop context * &lt;optional&gt; Inherited From: EventEmitter#once Overrides: EventEmitter#once Source: event/EventEmitter.ts, line 125 Returns: Type EventEmitter Type Definitions MutationRecordType Type: String Properties: Name Type Description childList String attributes String characterData String subtree String Source: observer/MutationObserver.ts, line 6 See: https://developer.mozilla.org/ko/docs/Web/API/MutationObserver#MutationObserverInit Events MUTATION_EVENTS MutationEvent Types Properties: Name Type Description CHANGE_CHILD_LIST String childList 변경 시점 CHANGE_SUBTREE String subtree 변경 시점 CHANGE_ATTRIBUTES String attributes 변경 시점 CHANGE_CHARACTER_DATA String data 변경 시점 CHANGE String 기타 변경 시점 WILD_CARD String 모든 변경 시점 Source: observer/MutationObserver.ts, line 30 Listeners of This Event: MutationObserver#on × Search results Close "},"PrefersColorSchemeObserver.html":{"id":"PrefersColorSchemeObserver.html","title":"Class: PrefersColorSchemeObserver","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Class: PrefersColorSchemeObserver PrefersColorSchemeObserver new PrefersColorSchemeObserver() prefers-color-scheme 상태 변화를 감지 Source: observer/PrefersColorSchemeObserver.ts, line 40 Throws: browser 에서 지원하지 못하는 경우 - throw new Error('PrefersColorScheme 지원되지 않는 브라우저입니다.'); Type Error Example import { PrefersColorSchemeObserver, PREFERS_COLOR_SCHEME_EVENTS } from \"@nonoll/code-snippet/observer\"; const createElement = ({ tag = 'div', id = '', style = '', value = '', text = '' }) =&gt; { const doc = window.document; const target = doc.createElement(tag); target.setAttribute('id', id); target.setAttribute('style', style); target.setAttribute('value', value); if (text) { target.textContent = text; } return target; } let observer; export const forExample = () =&gt; { if (observer) { console.log(\"already example\"); return; } const doc = window.document; observer = new PrefersColorSchemeObserver(); observer.on(PREFERS_COLOR_SCHEME_EVENTS.CHANGE, ({ isDark, isLight }) =&gt; { console.log(\"change\", isDark, isLight); }); observer.attach(); observer.emit(PREFERS_COLOR_SCHEME_EVENTS.GET_STATUS); const statusButton = createElement({ tag: \"button\", text: \"status\" }); doc.body.appendChild(statusButton); statusButton.addEventListener(\"click\", e =&gt; { e.preventDefault(); console.log(\"statusButton clicked\"); if (!observer) { return; } observer.emit(PREFERS_COLOR_SCHEME_EVENTS.GET_STATUS); }); }; forExample(); Extends EventEmitter Methods &lt;static&gt; isSupport() prefers-color-scheme 지원 여부 반환 Source: observer/PrefersColorSchemeObserver.ts, line 124 Returns: Type boolean attach() 이벤트 감지 설정 Source: observer/PrefersColorSchemeObserver.ts, line 133 Returns: Type PrefersColorSchemeObserver destroy() destroy Source: observer/PrefersColorSchemeObserver.ts, line 184 Returns: Type PrefersColorSchemeObserver detach() 이벤트 감지 해제 Source: observer/PrefersColorSchemeObserver.ts, line 145 Returns: Type PrefersColorSchemeObserver emit(eventName, values) 이벤트 전파 Parameters: Name Type Argument Description eventName string values Array.&lt;any&gt; &lt;repeatable&gt; Inherited From: EventEmitter#emit Overrides: EventEmitter#emit Source: event/EventEmitter.ts, line 141 Returns: Type EventEmitter fire(eventName, values) 이벤트 전파 Parameters: Name Type Description eventName string values any Inherited From: EventEmitter#fire Overrides: EventEmitter#fire Source: event/EventEmitter.ts, line 157 Returns: Type EventEmitter getStatus() 현재 상태를 반환 Source: observer/PrefersColorSchemeObserver.ts, line 157 Returns: Type IPrefersColorSchemeStatus off(eventName [, listener]) 이벤트 감지 해제 Parameters: Name Type Argument Description eventName string listener TypeVoidFunction &lt;optional&gt; Inherited From: EventEmitter#off Overrides: EventEmitter#off Source: event/EventEmitter.ts, line 106 Returns: Type EventEmitter on(eventName [, listener] [, context]) 이벤트 감지 등록 Parameters: Name Type Argument Default Description eventName string listener TypeVoidFunction &lt;optional&gt; noop context * &lt;optional&gt; Inherited From: EventEmitter#on Overrides: EventEmitter#on Source: event/EventEmitter.ts, line 94 Returns: Type EventEmitter once(eventName [, listener] [, context]) 이벤트 1회 감지 등록 Parameters: Name Type Argument Default Description eventName string listener TypeVoidFunction &lt;optional&gt; noop context * &lt;optional&gt; Inherited From: EventEmitter#once Overrides: EventEmitter#once Source: event/EventEmitter.ts, line 125 Returns: Type EventEmitter Type Definitions PREFERS_COLOR_SCHEME Type: String Properties: Name Type Description LIGHT String DARK String Source: observer/PrefersColorSchemeObserver.ts, line 4 Events PREFERS_COLOR_SCHEME_EVENTS PrefersColorSchemeObserverEvent Types Properties: Name Type Description CHANGE String 변경 시점 GET_STATUS String 현재 상태값 체크 Source: observer/PrefersColorSchemeObserver.ts, line 22 × Search results Close "},"VisibilityChangeObserver.html":{"id":"VisibilityChangeObserver.html","title":"Class: VisibilityChangeObserver","body":" @nonoll/code-snippet Modules browserfunctionsmathtypes Classes EventEmitterIntersectionObserverMutationObserverPrefersColorSchemeObserverVisibilityChangeObserver Events IntersectionObserver#event:INTERSECTION_EVENTSMutationObserver#event:MUTATION_EVENTSPrefersColorSchemeObserver#event:PREFERS_COLOR_SCHEME_EVENTSVisibilityChangeObserver#event:VISIBILITY_EVENTS Interfaces IAgentTypeIEventIIntersectionChangeDataIIntersectionObserverExtOptionIBrowserTypeIMutationObserverInitIPassiveIPrefersColorSchemeStatusIRatioIRatioParamsIBrowserAgentsIVisibilityStatusIMutationObserverExtOption Global eventINTERSECTION_EVENTSobserver Class: VisibilityChangeObserver VisibilityChangeObserver new VisibilityChangeObserver() browser 의 visibility 변화를 감지 Source: observer/VisibilityChangeObserver.ts, line 68 See: https://developer.mozilla.org/en-US/docs/Web/API/Page_Visibility_API https://caniuse.com/#search=visibilityState Throws: browser 에서 지원하지 못하는 경우 - throw new Error('VisibilityChange 지원되지 않는 브라우저입니다.'); Type Error Example import { VisibilityChangeObserver, VISIBILITY_EVENTS } from '@nonoll/code-snippet/observer'; const createElement = ({ tag = 'div', id = '', style = '', value = '', text = '' }) =&gt; { const doc = window.document; const target = doc.createElement(tag); target.setAttribute('id', id); target.setAttribute('style', style); target.setAttribute('value', value); if (text) { target.textContent = text; } return target; } let observer; const forExample = () =&gt; { if (observer) { console.log('already example'); return; } const doc = window.document; observer = new VisibilityChangeObserver(); observer.on(VISIBILITY_EVENTS.CHANGE, ({ isHidden, isShow }) =&gt; { console.log('change', isHidden, isShow); }); observer.attach(); observer.emit(VISIBILITY_EVENTS.GET_STATUS); const statusButton = createElement({ tag: 'button', text: 'status' }); const openButton = createElement({ tag: 'button', text: 'window open' }); doc.body.appendChild(statusButton); doc.body.appendChild(openButton); statusButton.addEventListener('click', e =&gt; { e.preventDefault(); console.log('statusButton clicked'); if (!observer) { return; } // observer.emit(VISIBILITY_EVENTS.GET_STATUS); const { isHidden, isShow } = observer.getStatus(); console.log('getStatus', isHidden, isShow); }); openButton.addEventListener('click', e =&gt; { e.preventDefault(); console.log('openButton clicked'); if (!observer) { return; } const browser = window.open('https://nonoll.github.io/code-snippet/'); if (!browser) { console.error('팝업이 차단되어 있습니다.'); } }); } forExample(); Extends EventEmitter Members &lt;static, constant&gt; HIDDEN_METHOD_NAME :String browser 상의 visibility hidden 시점의 event 명 Type: String Source: observer/VisibilityChangeObserver.ts, line 48 &lt;static, constant&gt; VENDOR_PREFIX :String getVendorPrefix 의 값 Type: String Source: observer/VisibilityChangeObserver.ts, line 32 &lt;static, constant&gt; VISIBILITY_EVENT_NAME :String browser 상의 visibilitychange event 명 Type: String Source: observer/VisibilityChangeObserver.ts, line 40 Methods &lt;static&gt; getVendorPrefix() 실행된 browser 기준으로, visibilityChange event 에 맞는 vendorPrefix 반환 Source: observer/VisibilityChangeObserver.ts, line 12 Returns: Type String &lt;static&gt; hiddenMethodName() visibility hidden event 명 반환 Source: observer/VisibilityChangeObserver.ts, line 178 Returns: Type String &lt;static&gt; isSupport() visibility change 지원 여부 반환 Source: observer/VisibilityChangeObserver.ts, line 188 Returns: Type boolean &lt;static&gt; visibilityEventName() visibilitychange event 명 반환 Source: observer/VisibilityChangeObserver.ts, line 168 Returns: Type String attach() 이벤트 감지 설정 Source: observer/VisibilityChangeObserver.ts, line 229 Returns: Type VisibilityChangeObserver destroy() destory Source: observer/VisibilityChangeObserver.ts, line 253 Returns: Type VisibilityChangeObserver detach() 이벤트 감지 해제 Source: observer/VisibilityChangeObserver.ts, line 241 Returns: Type VisibilityChangeObserver emit(eventName, values) 이벤트 전파 Parameters: Name Type Argument Description eventName string values Array.&lt;any&gt; &lt;repeatable&gt; Inherited From: EventEmitter#emit Overrides: EventEmitter#emit Source: event/EventEmitter.ts, line 141 Returns: Type EventEmitter fire(eventName, values) 이벤트 전파 Parameters: Name Type Description eventName string values any Inherited From: EventEmitter#fire Overrides: EventEmitter#fire Source: event/EventEmitter.ts, line 157 Returns: Type EventEmitter getStatus() 현재 상태를 반환 Source: observer/VisibilityChangeObserver.ts, line 217 Returns: Type IVisibilityStatus off(eventName [, listener]) 이벤트 감지 해제 Parameters: Name Type Argument Description eventName string listener TypeVoidFunction &lt;optional&gt; Inherited From: EventEmitter#off Overrides: EventEmitter#off Source: event/EventEmitter.ts, line 106 Returns: Type EventEmitter on(eventName [, listener] [, context]) 이벤트 감지 등록 Parameters: Name Type Argument Default Description eventName string listener TypeVoidFunction &lt;optional&gt; noop context * &lt;optional&gt; Inherited From: EventEmitter#on Overrides: EventEmitter#on Source: event/EventEmitter.ts, line 94 Returns: Type EventEmitter once(eventName [, listener] [, context]) 이벤트 1회 감지 등록 Parameters: Name Type Argument Default Description eventName string listener TypeVoidFunction &lt;optional&gt; noop context * &lt;optional&gt; Inherited From: EventEmitter#once Overrides: EventEmitter#once Source: event/EventEmitter.ts, line 125 Returns: Type EventEmitter Events VISIBILITY_EVENTS VisibilityChange Event Types Properties: Name Type Description CHANGE String 변경 시점 GET_STATUS String 현재 상태값 체크 Source: observer/VisibilityChangeObserver.ts, line 50 × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
